>   TSMaster User Manual

[TSMaster User Manual	1](#_Toc63577679)

[Chapter 1 TSMaster User Interface	8](#_Toc63577680)

>   [1.1 User Interface Introduction	8](#_Toc63577681)

[1.1.1 Main Interface	8](#_Toc63577682)

[1.1.2 Ribbon Functions	8](#_Toc63577683)

[1.1.2.1 Analysis Tab	9](#_Toc63577684)

[1.1.2.2 Hardware Tab	10](#_Toc63577685)

[1.1.2.3 Project Tab	11](#_Toc63577686)

[1.1.2.4 Tools Tab	13](#_Toc63577687)

[1.1.3 Help Tab	14](#_Toc63577688)

[1.1.4 Application Shortcuts	14](#_Toc63577689)

[1.1.5 Univeral Drag and Drop	14](#_Toc63577690)

>   [1.2 Channel Selection	17](#_Toc63577691)

>   [1.3 System Messages Window	19](#_Toc63577692)

>   [1.4 CAN / CAN FD Trace	21](#_Toc63577693)

[1.4.1 Trace toolbar	21](#_Toc63577694)

[1.4.2 Trace message identifier filter	23](#_Toc63577695)

[1.4.3 Trace list columns	25](#_Toc63577696)

[1.4.4 Trace Signals Display	26](#_Toc63577697)

[1.4.5 Popup Menus	26](#_Toc63577698)

>   [1.5 CAN / CAN FD Transmit Window	27](#_Toc63577699)

[1.5.1 Transmit toolbar	28](#_Toc63577700)

[1.5.2 Transmit list	29](#_Toc63577701)

[1.5.3 Signals list	30](#_Toc63577702)

[1.5.3.1 Signal Name	31](#_Toc63577703)

[1.5.3.2 Signal Gen.	31](#_Toc63577704)

[1.5.3.3 Generator	31](#_Toc63577705)

[1.5.3.4 Raw Value	36](#_Toc63577706)

[1.5.3.5 Raw Step	36](#_Toc63577707)

[1.5.3.6 Physical Value	36](#_Toc63577708)

[1.5.3.7 Phys Step	36](#_Toc63577709)

[1.5.3.8 Comment	37](#_Toc63577710)

>   [1.6 CAN Statistics	37](#_Toc63577711)

[1.6.1 CAN Statistics list	37](#_Toc63577712)

[1.6.2 CAN statistics popup menu	38](#_Toc63577713)

>   [1.7 Graphics	38](#_Toc63577714)

[1.7.1 Graphics toolbar	38](#_Toc63577715)

[1.7.2 Graphics signal list	41](#_Toc63577716)

[1.7.3 Signal property inspector	42](#_Toc63577717)

[1.7.4 Signal Popup menu	43](#_Toc63577718)

>   [1.8 CAN Database	44](#_Toc63577719)

[1.8.1 CAN database toolbar	45](#_Toc63577720)

[1.8.2 CAN database channel assignment	46](#_Toc63577721)

[1.8.3 CAN Database field viewer	46](#_Toc63577722)

[1.8.4 CAN element treeview	47](#_Toc63577723)

>   [1.9 Hardware Configuration	47](#_Toc63577724)

[1.9.1 Configuration Page	47](#_Toc63577725)

[1.9.2 Channel configuration page	48](#_Toc63577726)

>   [1.10 Bus Logging	49](#_Toc63577727)

[1.10.1 Bus logging toolbar	49](#_Toc63577728)

[1.10.2 Bus logging popup menu	49](#_Toc63577729)

>   [1.11 Bus Playback	50](#_Toc63577730)

[1.11.1 Bus playback toolbar	50](#_Toc63577731)

[1.11.2 Bus playback popup menu	50](#_Toc63577732)

[1.11.3 Playback control	51](#_Toc63577733)

>   [1.12 Meter	51](#_Toc63577734)

[1.12.1 Meter toolbar	52](#_Toc63577735)

[1.12.2 Meter Layout Control	52](#_Toc63577736)

[1.12.3 Meter signal editor	54](#_Toc63577737)

>   [1.13 LIN Trace	55](#_Toc63577738)

[1.13.1 Trace toolbar	55](#_Toc63577739)

[1.13.2 Trace message identifier filter	57](#_Toc63577740)

[1.13.3 Trace list columns	58](#_Toc63577741)

[1.13.4 Trace Signals Display	59](#_Toc63577742)

[1.13.5 Popup Menus	59](#_Toc63577743)

>   [1.14 LIN Transmit	60](#_Toc63577744)

[1.14.1 Transmit toolbar	61](#_Toc63577745)

[1.14.2 LIN schedule table list	62](#_Toc63577746)

[1.14.3 Transmit list	62](#_Toc63577747)

[1.14.4 Signals list	63](#_Toc63577748)

[1.14.4.1 Signal Name	63](#_Toc63577749)

[1.14.4.2 Signal Gen.	63](#_Toc63577750)

[1.14.4.3 Generator	64](#_Toc63577751)

[1.14.4.4 Raw Value	64](#_Toc63577752)

[1.14.4.5 Raw Step	64](#_Toc63577753)

[1.14.4.6 Physical Value	64](#_Toc63577754)

[1.14.4.7 Phys Step	64](#_Toc63577755)

[1.14.4.8 Comment	65](#_Toc63577756)

>   [1.15 LIN Database	65](#_Toc63577757)

[1.15.1 LIN database toolbar	65](#_Toc63577758)

[1.15.2 LIN database channel assignment	66](#_Toc63577759)

[1.15.3 LIN element treeview	66](#_Toc63577760)

>   [1.16 TS Channel Mapping	67](#_Toc63577761)

[1.16.1 TS Channel Mapping toolbar	68](#_Toc63577762)

[1.16.2 Hardware channel and application list	68](#_Toc63577763)

[1.16.3 Map a hardware channel with a logical application
channel	69](#_Toc63577764)

[1.16.4 Add or delete an application	70](#_Toc63577765)

[1.16.5 Set channel count of a bus type	70](#_Toc63577766)

>   [1.17 Software Configuration	71](#_Toc63577767)

>   [1.18 TS Log Converter	71](#_Toc63577768)

[1.18.1 Log file types	72](#_Toc63577769)

[1.18.2 Log converter interface	72](#_Toc63577770)

[1.18.3 Mat File Example	73](#_Toc63577771)

>   [1.19 CAN Remaining Bus Simulation	74](#_Toc63577772)

[1.19.1 CAN RBS toolbar	75](#_Toc63577773)

[1.19.2 CAN RBS message list	76](#_Toc63577774)

[1.19.3 Modify Signal In CAN RBS	77](#_Toc63577775)

>   [1.20 C Script Editor	77](#_Toc63577776)

[1.20.1 C Script Editor toolbar	78](#_Toc63577777)

[1.20.2 Symbol Tree	80](#_Toc63577778)

[1.20.2.1 Program group	81](#_Toc63577779)

[1.20.2.2 Code Generation	81](#_Toc63577780)

[1.20.2.3 TSMaster Header	81](#_Toc63577781)

[1.20.2.4 Database Header	82](#_Toc63577782)

[1.20.2.5 Test Header	83](#_Toc63577783)

[1.20.2.6 Global definition	84](#_Toc63577784)

[1.20.2.7 Step Function	85](#_Toc63577785)

[1.20.2.8 Documentation	86](#_Toc63577786)

[1.20.2.9 Variables Group	87](#_Toc63577787)

[1.20.2.10 Variable	87](#_Toc63577788)

[1.20.2.11 Timers Group	88](#_Toc63577789)

[1.20.2.12 Timer	89](#_Toc63577790)

[1.20.2.13 On CAN Receive Event Group	89](#_Toc63577791)

[1.20.2.14 On CAN Receive Event	90](#_Toc63577792)

[1.20.2.15 On CAN FD Receive Event	91](#_Toc63577793)

[1.20.2.16 On CAN Transmit Event Group	92](#_Toc63577794)

[1.20.2.17 On CAN Transmit Event	92](#_Toc63577795)

[1.20.2.18 On CAN FD Transmit Event	93](#_Toc63577796)

[1.20.2.19 On CAN Pre-Transmit Event Group	93](#_Toc63577797)

[1.20.2.20 On CAN Pre-Transmit Event	94](#_Toc63577798)

[1.20.2.21 On CAN FD Pre-Transmit Event	95](#_Toc63577799)

[1.20.2.22 On LIN Receive Event Group	95](#_Toc63577800)

[1.20.2.23 On LIN Receive Event	96](#_Toc63577801)

[1.20.2.24 On LIN Transmit Event Group	96](#_Toc63577802)

[1.20.2.25 On LIN Transmit Event	97](#_Toc63577803)

[1.20.2.26 On LIN Pre-Transmit Event Group	97](#_Toc63577804)

[1.20.2.27 On LIN Pre-Transmit Event	98](#_Toc63577805)

[1.20.2.28 On Var Change Event Group	98](#_Toc63577806)

[1.20.2.29 On Var Change Event	98](#_Toc63577807)

[1.20.2.30 On Timer Event Group	99](#_Toc63577808)

[1.20.2.31 On Timer Event	99](#_Toc63577809)

[1.20.2.32 On Start Event Group	100](#_Toc63577810)

[1.20.2.33 On Start Event	100](#_Toc63577811)

[1.20.2.34 On Stop Event Group	100](#_Toc63577812)

[1.20.2.35 On Stop Event	101](#_Toc63577813)

[1.20.2.36 On Shortcut Event Group	101](#_Toc63577814)

[1.20.2.37 On Shortcut Event	102](#_Toc63577815)

[1.20.2.38 Custom Functions Group	102](#_Toc63577816)

[1.20.2.39 Custom Function	102](#_Toc63577817)

>   [1.21 Application Window Host	103](#_Toc63577818)

>   [1.22 Panel	105](#_Toc63577819)

[1.22.1 Panel Toolbar	106](#_Toc63577820)

[1.22.1.1 Panel Layout Settings	108](#_Toc63577821)

[1.22.1.2 Panel Design Time Settings	108](#_Toc63577822)

[1.22.2 Panel Controls	109](#_Toc63577823)

[1.22.2.1 Panel Common Properties	109](#_Toc63577824)

[1.22.2.1.1 Align	110](#_Toc63577825)

[1.22.2.1.2 Enabled	113](#_Toc63577826)

[1.22.2.1.3 Height	113](#_Toc63577827)

[1.22.2.1.4 Margins	113](#_Toc63577828)

[1.22.2.1.5 Opacity	114](#_Toc63577829)

[1.22.2.1.6 Padding	114](#_Toc63577830)

[1.22.2.1.7 Position	115](#_Toc63577831)

[1.22.2.1.8 ReadOnly	115](#_Toc63577832)

[1.22.2.1.9 RotationAngle	115](#_Toc63577833)

[1.22.2.1.10 RotationCenter	115](#_Toc63577834)

[1.22.2.1.11 Scale	116](#_Toc63577835)

[1.22.2.1.12 VarLink	116](#_Toc63577836)

[1.22.2.1.13 VarType	118](#_Toc63577837)

[1.22.2.1.14 Width	118](#_Toc63577838)

[1.22.2.1.15 TextSettings	119](#_Toc63577839)

[1.22.2.2 Text	121](#_Toc63577840)

[1.22.2.3 Image	123](#_Toc63577841)

[1.22.2.4 Group Box	125](#_Toc63577842)

[1.22.2.5 Panel	126](#_Toc63577843)

[1.22.2.6 Path Button	129](#_Toc63577844)

[1.22.2.7 Check Box	133](#_Toc63577845)

[1.22.2.7.1 Track Bar	134](#_Toc63577846)

[1.22.2.8 Scroll Bar	135](#_Toc63577847)

[1.22.2.9 Input Output Box	135](#_Toc63577848)

[1.22.2.10 Image Button	136](#_Toc63577849)

[1.22.2.11 Selector	138](#_Toc63577850)

[1.22.2.12 Button	140](#_Toc63577851)

[1.22.2.13 Progress Bar	140](#_Toc63577852)

[1.22.2.14 Radio Button	141](#_Toc63577853)

[1.22.2.15 Start Stop Button	143](#_Toc63577854)

[1.22.2.16 Switch	143](#_Toc63577855)

[1.22.2.17 LED	144](#_Toc63577856)

[1.22.2.18 Page Control	146](#_Toc63577857)

[1.22.2.18.1 Page Control Properties	146](#_Toc63577858)

[1.22.2.18.2 Delete a page in Page Control	147](#_Toc63577859)

[1.22.2.19 Gauge	147](#_Toc63577860)

[1.22.2.20 Graphics	150](#_Toc63577861)

[1.22.2.21 Pie	151](#_Toc63577862)

[1.22.3 Panel Design Recommendations	152](#_Toc63577863)

[1.22.3.1 Using Shortcuts	152](#_Toc63577864)

[1.22.3.2 Remaining Bus Simulation	152](#_Toc63577865)

>   [1.23 Test System	152](#_Toc63577866)

[1.23.1 Test System Toolbar	153](#_Toc63577867)

[1.23.2 Test System Overview	154](#_Toc63577868)

[1.23.3 Test System Login	154](#_Toc63577869)

[1.23.4 System Configuration	156](#_Toc63577870)

[1.23.5 DUT Configuration	156](#_Toc63577871)

[1.23.6 Test Parameters	158](#_Toc63577872)

[1.23.7 Test Cases	162](#_Toc63577873)

[1.23.7.1 Test Cases Interface	162](#_Toc63577874)

[1.23.7.2 Ordering of test cases	166](#_Toc63577875)

[1.23.7.3 Test Case List Column	168](#_Toc63577876)

[1.23.7.4 Test Case Code in Mini Program	169](#_Toc63577877)

[1.23.8 Report Configuration	170](#_Toc63577878)

[1.23.9 Test Execution	171](#_Toc63577879)

[1.23.10 Test Logs	172](#_Toc63577880)

>   [1.24 Mini Program Library	172](#_Toc63577881)

[1.24.1 Mini Program Library Concept	172](#_Toc63577882)

[1.24.2 Mini Program Library User Interface	173](#_Toc63577883)

[1.24.3 Mini Program Library Popup Menu	174](#_Toc63577884)

>   [1.25 Diagnostics	175](#_Toc63577885)

>   [1.26 Calibration	175](#_Toc63577886)

[1.26.1 Calibration Introduction	175](#_Toc63577887)

[1.26.2 Calibration Data Types	175](#_Toc63577888)

>   [1.27 System Variable Manager	176](#_Toc63577889)

[1.27.1 System Variable Manager Introduction	176](#_Toc63577890)

[1.27.2 Toolbar of System Variable Manager	177](#_Toc63577891)

[1.27.3 Popup Menu of System Variables	180](#_Toc63577892)

[1.27.4 Working with System Variables	180](#_Toc63577893)

>   [1.28 Measurement Setup	181](#_Toc63577894)

[1.28.1 Mesurement Setup Toolbar	182](#_Toc63577895)

[1.28.2 Measurement Setup Popup Menu	183](#_Toc63577896)

[1.28.3 Working with Measurement Setup	185](#_Toc63577897)

[1.28.3.1 Measurement Setup Node State	185](#_Toc63577898)

[1.28.3.2 Measurement Windows Filter Capabilities	187](#_Toc63577899)

>   [1.29 Measurement Filter	188](#_Toc63577900)

[1.29.1 Measurement Filter Toolbar	189](#_Toc63577901)

[1.29.2 Measurement Filter Popup Menu	193](#_Toc63577902)

[1.29.3 Filter List Operation	195](#_Toc63577903)

>   [1.30 Document	195](#_Toc63577904)

[1.30.1 Document Toolbar	196](#_Toc63577905)

[1.30.2 Document Area	196](#_Toc63577906)

[1.30.3 Document Popup Menu	196](#_Toc63577907)

>   [1.31 LIN Remaining Bus Simulation	197](#_Toc63577908)

>   [1.32 Automotive File Converter	198](#_Toc63577909)

[1.32.1 Automotive File Converter Toolbar	198](#_Toc63577910)

[1.32.2 Supported input files	199](#_Toc63577911)

[1.32.3 Supported output files	199](#_Toc63577912)

[1.32.4 Steps to Convert Database Files	200](#_Toc63577913)

[1.32.5 Steps to Convert dbc file to C Code	202](#_Toc63577914)

>   [1.33 Symbol Mapping	203](#_Toc63577915)

>   [1.34 Stimulation	203](#_Toc63577916)

>   [1.35 Calibration Curve	203](#_Toc63577917)

>   [1.36 Video Replay	203](#_Toc63577918)

[Chapter 2 TSMaster Help Files	204](#_Toc63577919)

>   [2.1 Help Content	204](#_Toc63577920)

1.  TSMaster User Interface

    1.  User Interface Introduction

TSMaster is an open environment for monitoring, simulation of automotive network
communications. The main interface of TSMaster is shown as below.

1.  Main Interface

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb780c2e59e522e7a1f1665641c2b536.png)

Fig 1 TSMaster main interface

1.  Application title bar. The application name, build time and loaded
    configuration is shown in this title bar.

2.  Ribbon toolbar. The main functions are accessed from this ribbon toolbar.

3.  Page tabs. Each tab contains a set of windows for measurement and
    simulation. User can add or delete window inside the current tab.

4.  Application forms. Each window is a function performing specific tasks.

5.  Add page button. User can add new page by clicking this button. If user want
    to delete a page, just right-click on the current page and select “delete
    tab” command.

6.  Status bar. The connection status of application, logging information and
    write information are shown in the status bar.

    1.  Ribbon Functions

There are four tabs in ribbon: Analysis, Hardware, Tools and Help.

Analysis Tab

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7ee652a84dc87c0882eda3d3a142940e.png)

Fig 2 Analysis tab in Ribbon

**Start**: Start application. This operation will connect all the logical
channels with hardware channels, the data from hardware will be shown in the
application interface.

After application is started, the following functions are not available:

-   Bus Replay. Bus replay is only allowed when application is disconnected.

-   Channel Selection. Channel selection is only available before application
    connection.

-   Channel Mapping. Channel mapping information is required before application
    is connectd.

-   Network Hardware. Hardware parameters are only allowed to configure before
    application is started.

**Stop**: Stop application. This operation will disconnect all the logical
channels with hardware channels. The logging operation is also stopped if
already running.

After application is stopped, the following functions are now available:

-   Bus Replay. User can load logged files and analyze them in the application
    forms.

-   Channel Selection. User can map channels freely when application is not
    connected.

-   Channel Mapping. User can manage application and channels in the channel
    mapping form.

-   Network Hardware. User can alter hardware configuration when application is
    not connected.

**Messages**: Show message window.

**Trace**: This is a drop-down button as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e086252ad9d97fc519815f4ce4c655a0.png)

Fig 3 Trace drop-down button

1.  Trace windows that already exist in the system, click to show one of them.

2.  Add new trace window in the system. The default location is the current tab.

**Transmit**: Show or add transmit windows for bus message transmission.

**Graphics**: Show or add graphics windows for signal curve display.

**Gauges**: Show or add gauge windows for signal value display.

**Statistics**: Show bus statistics window.

**Database**: Show bus database window, CAN (\*.dbc) and LIN (\*.ldf) files are
supported.

**Start Logging**: Start logging of bus events.

**Stop Logging**: Stop logging of bus events.

**Bus Logger**: Show bus logging configuration window.

**Bus Replay**: Show bus replay window.

**Log Converter**: Show log file converter application which converts blf file
format to asc file format and vice versa.

**Log Directory**: Show the current log file directory in Windows explorer.

Hardware Tab

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ae58dbd959f875ba1488321e2550eaeb.png)

Fig 4 Hardware tab in ribbon

**Channel Selection**: Open channel selection window for logical channel mapping
with hardware channels.

**Channel Mapping**: Open channel mapping configuration window to manage
application logical channels and mapping.

**Network Hardware**: Open hardware configuration window to configure individual
hardware channel parameters.

**Turbo Mode**: Checking this option will minimize all hardware channel
latencies at the expense of consuming more CPU usage. Users who concern very
much for hardware performance are recommended to check this option.

Project Tab

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/09de5cf318bc6d2c09812be4a6e27747.png)

Fig 5 TSMaster Project Tab

**Load**: Load TSMaster configuration file, this operation will overwrite all
the current settings.

**Save**: Save TSMaster configuration file to a location. If the destination
configuration is specified, the following save command will update the
destination configuration file.

The first time when the button is clicked, a save as dialog will be prompt for
user to select a destination configuration file:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9ec1b9bcc6c7e1471d4370a8905b187c.png)

Fig 6 Save configuration for the first time

Just specify a location and file name for the configuration file, and click
“Save” button. The application title will display the destination configuration
file name after the configuration file is saved:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b65e2b9703acf00a665cec52ec647a64.png)

Fig 7 Configuration file name shown in the title bar

After the configuration file is saved, each successive save command will update
this file continuously.

**Save as**: This command will popup a save as dialog for the user to change the
configuration file to another location.

**New**: This command will erase all the current configuration and create a new
environment for analysis. Note: please save all your work into a configuration
file before applying this command.

**Settings**: Opens a software configuration window showing all the opened
windows. User can show/hide/delete the application forms in this window. The
title of each application form can also be modified here.

**Tabbed Windows:** This checkbox displays all windows in tabs or vice versa:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7af566d65d16a0a7b1f18a078727c333.png)

Fig 8 Tabbed Windows

Note: When this checkbox is checked, the lower tab group disappears because all
the sub forms are displayed in the above tabs.

If this checkbox is unchecked, the lower tab group will be visible again and
each tab group controls a series of sub mdi forms.

**Cascade**: Cascade application forms in the current tab group.

**Tile Horizontally**: Tile all the application forms in the current tab
horizontally.

**Tile Vertically**: Tile all the application forms in the current tab
vertically.

Note: This above features “Cascade, Tile Horizontally and Tile Vertically” are
only available when “Tabbed Windows” feature is unchecked.

Tools Tab

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d5b107dfe5cc002017199aaef0bbae2d.png)

Fig 9 Tools tab in ribbon

**Hexadecimal Display**: This command toggles display between hexadecimal and
decimal.

**Symbol Display**: This command toggles display between symbol description and
value of a signal in database.

**C Code Editor**: This command opens TSMaster C Code Editor for editing C
scripts.

**Python Code Editor**: This command opens TSMaster Python Code Editor for
editing Python scripts.

**Python Console**: This will open python console window for interacting with
internal python engine shipped with TSMaster.

1.  Help Tab

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9039f7d4d55f0ee4c63a75180b065bda.png)

Fig 10 Help tab in ribbon

**Software Manual**: This software manual will be shown.

**Software SDK**: TSMaster API description manual will be shown.

**Release Note**: This will open release note for the current version of
TSMaster.

**About…**: This will show about dialog of TOSUN company.

1.  Application Shortcuts

-   Ctrl + O: Open project

-   Ctrl + N: Create new project

-   Ctrl + S: Save the current project

-   Ctrl + TAB: move to next tab in Tabbed windows mode

-   Ctrl + Shift + TAB: move to previous tab in Tabbed windows mode

-   Ctrl + W: close the current active window or tab

    1.  Univeral Drag and Drop

TSMaster support many different automotive bus database types to be dragged and
droped into TSMaster application main interface.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0d80fd1f91c617d4ab81aa3997fdf739.png)

Fig 11 Universal drag ang drop in TSMaster

The supported suffixes of file types are listed below:

Table 1 File formats that support drag and drop

| File extension | Associated Vendor                  | File Description                                                                                                                                         |
|----------------|------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| blf            | Vector                             | Binary logging format of different bus systems                                                                                                           |
| dbc            | Vector                             | CANdb network file                                                                                                                                       |
| ldf            | ISO                                | LIN description file                                                                                                                                     |
| mpc            | TOSUN                              | TSMaster mini program source file extension                                                                                                              |
| t7z            | TOSUN                              | TSMaster project file                                                                                                                                    |
| mp             | TOSUN                              | TSMaster mini program compiled binary file                                                                                                               |
| arxml          | AutoSAR                            | AutoSAR system description file                                                                                                                          |
| dbf            | ETAS                               | Bus Master file format                                                                                                                                   |
| sym            | PEAK                               | PEAK PCAN CAN description file                                                                                                                           |
| mat            | Mathworks                          | MATLAB file format used in TOSUN calibration module                                                                                                      |
| mp4            | MPEG-4 Part 14                     | ISO/IEC 14496-12(MPEG-4 Part 12 ISO base media file format), used in Video Replay                                                                        |
| avi            | Microsoft                          | Audio Video Interleave, a widely used video file format created by Microsoft in 1992, used in Video Replay                                               |
| wmv            | Microsoft                          | A video file based on the Microsoft Advanced Systems Format (ASF) container format, used in Video Replay                                                 |
| mpeg           | ISO and IEC                        | Moving Picture Experts Group (MPEG), used in Video Replay, used in Video Replay                                                                          |
| mpg            | ISO and IEC                        | Moving Picture Experts Group (MPEG), used in Video Replay, used in Video Replay                                                                          |
| m4v            | Apple                              | A video container format developed by Apple and is very similar to the MP4 format, used in Video Replay                                                  |
| mov            | Apple                              | A movie file saved in the QuickTime File Format (QTFF), which is a multimedia container file format, used in Video Replay                                |
| asf            | Microsoft                          | The container format for Windows Media Audio and Windows Media Video-based content, used in Video Replay                                                 |
| flv            | Adobe                              | A file format used by Adobe Flash Player and Adobe AIR to store and deliver synchronized audio and video streams over the Internet, used in Video Replay |
| f4v            | Apple                              | A Flash MP4 Video file, sometimes called an MPEG-4 Video file, used in Video Replay                                                                      |
| rmvb           | RealNetworks                       | RealMedia Variable Bitrate (RMVB) is a variable bitrate extension of the RealMedia multimedia digital container format, used in Video Replay             |
| rm             | RealNetworks                       | RealMedia is a proprietary multimedia container format created by RealNetworks. Its extension is ". rm", used in Video Replay                            |
| 3gp            | 3rd Generation Partnership Project | A 3GP file is a multimedia file saved in an audio and video container format, used in Video Replay                                                       |
| vob            |  DVD Forum                         | A movie data file from a DVD disc, typically stored in the VIDEO_TS folder at the root of the DVD, used in Video Replay                                  |

1.  Channel Selection

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e214f245ac2de658d6d052f74f0e5fde.png)

Fig 12 Channel Selection dialog

Channel selection dialog is used to quick configure application channel mapping
before application is running.

1.  Toolbar buttons described below:

    **Activate All**: Activate all the application channels

    **Deactivate All**: Deactivate all the application channels

    **Refresh Hardware**: Refresh hardware channel list after USB devices are
    plugged in or out

    **Auto Mapping**: Automatically search hardware channels and map each
    application channel with available hardware channel in the order of
    discovery.

2.  **Application CAN channel count**: Displays the current CAN channel count of
    TSMaster, the user can change it using drop-down button, the modification
    takes effect immediately.

3.  **Application LIN channel count**: Displays the current LIN channel count of
    TSMaster, the user can change it using drop-down button, the modification
    takes effect immediately.

4.  **Availability**: Indicates the availability of the current application
    channel. The color of the icon has the following meaning:

    This application channel mapping is valid. The corresponding application is
    fully functional during measurement.

    This application channel is disabled. The corresponding application channel
    is not available during measurement.

    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/03c2e55740242193272103b04074e4dc.png) This application channel is
    invalid, the user must resolve the mapping problem, otherwise the
    application cannot start.

5.  **Application channel**: Application logical channel specified by user. Each
    application channel number has an ascending order starting from 1. The
    available application channels are from 1 to CAN channel count.

6.  **Active Selection**: This checkbox controls the availability of the current
    application channel. Default selection is checked. If user wants to disable
    the current application channel, the selection can be unchecked. After that,
    the mapping of this application channel will not be available during
    measurement.

7.  **Hardware channel selection drop-down box**: This drop-down box lists all
    the available hardare channels that can be mapped with the current
    application channel. The color of each item listed has the following
    meaning:

    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7b569d8645c367c213d2d9ef76444aee.png) This hardware channel is not
    mapped with other application channels, it is free for user to select.

    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/31b921c99270c9aeccf3a88a1dcc4cb7.png) This hardware channel is
    already mapped with one application channel. Multiple application channels
    mapping to the same hardware channel is not allowed.

    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/03c2e55740242193272103b04074e4dc.png) This application channel is
    not mapped with any hardware channel, the user must ensure the mapping of
    the application channel before measurement starts.

Note: If TSMaster is opened for the first time, when user tries to connect
application without opening this dialog, a default configuration is
automatically applied, which performs the following operations:

[1] search for available CAN and LIN hardware channels excluding TS virtual
channels

[2] set application CAN and LIN channels according to the first found hardware
channels

[3] start application for the measurement

1.  System Messages Window

System messages window displays all the software related messages, the message
color has the following meaning:

Default: Normal message

Verbose: Message of minor importance

Hint: Message that should to come into notice

OK: Message that indicates the current operation is successful

Error: The current operation encounters an error

The description of system message window is shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b4243c5b4a8d34cd24610eb68049318e.png)

Fig 13 System Message Window

1.  **Toolbar buttons**

Pause checkbox, check to suppress the display of incoming messages

Copy the selected logs into clipboard

Copy all the logs into clipboard

Clear the display of the current window, this will delete all the logs

Save the log to a file on the disk

Debugging mode switch, check to open debug mode, each log message will then
contain stack trace info.

1.  **Common window buttons**

Opens help document for the current window

Delete or hide the current window, if the user selects “Delete”, the window will
be destroyed and will not appear in any of the application tabs; if the user
selects “Hide”, the window will be hidden in the current tab, but may be
displayed in other tabs. Note: the default operation of closing a window by
clicking on the right-top red button of a window
![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ba557e90ffd7ee0be200b9594aa31344.png) is to hide it.

1.  **Logging area**: The time and description of events are displayed here.

    1.  CAN / CAN FD Trace

        CAN / CAN FD Trace window display events from CAN / CAN FD networks.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b3a9dea60f8ea566190f4a92487b8b36.png)

Fig 14 CAN / CAN FD Trace Window

1.  Trace toolbar

    Pause display button, when checked, the “Pause” button will switch to
    “Continue” ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/756ef922920e972f0e7dc3a814246d12.png) and incoming
    events will not be refreshed on the screen. The incoming events will be
    visible again when the “Continue” button is clicked.

    Clear the display of the current trace window.

    This checkbox sets trace window in chronological view mode. In this mode
    every incoming new message will be display as one trace line.

    This checkbox sets trace window in relative time mode.

    This checkbox ensures the trace list always scroll to the latest message.

    Expand all message nodes to view their signal values.

    Collapse all message nodes so signals are hidden.

    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/33f720cdc3cf34d50a8e196d5435b9f3.png) Filter trace list with
    specified string, the filter string can be the following types:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6f586b822a5329c5d00c6c372a6b0f3f.png)

Fig 15 Filter by identifier

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/574311b3540d4fdf75f23cf04c1b5a64.png)

Fig 16 Filter by signal name

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d8734b49a737bc06512219b5fac13802.png)

Fig 17 Filter by message name

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0b76a64e947ebfb07020f8a344bc85b4.png)

Fig 18 Filter by signal symbol value

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5bebefa22c2fbc4433f63104ff6ffe05.png)

Fig 19 Filter by signal numeric value

>   Clear filter value, the trace list will then display all the trace lines.

>   Message filter tool, which allows specific message identifiers to display in
>   the trace, and meanwhile blocks other message identifiers. User can use this
>   message filter to hide some irrelevant messages, or just monitor certain
>   messages.

1.  Trace message identifier filter

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/04b19606cdf072b241be097cc0ede5f6.png)

Fig 20 Trace message identifier filter

>   The trace message identifier filter works under either of the two
>   conditions:

1.  Block mode ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a9f3eddf76923dda03e0b9d52cfaaa18.png)

The message identifier in the list will be blocked, and other message will pass
the fiter. In the above picture, only 0x123 will be blocked, while other message
identifiers will be displayed in the trace window.

1.  Pass mode ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/692ee0355919186b681b9de7c8e0af0c.png)

The message identifier in the list will be passed, and other message will be
blocked. In the following picture, only 0x123 will be refreshed in the trace
list:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ab37f17d335c3114f2bdad2f5deb7a56.png)

Fig 21 Message identifier filter working in pass mode

To add or delete message identifiers in the list, just right-click on the empty
area of the list, you will see the following popup menu items:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f0acbaaaeed687431048e17c77930bf1.png)

Fig 22 Add or delete message identifiers in the list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c5d9b143b383e5255e5654f6e2e6592d.png) Add CAN frame identifiers from
database or on the fly. These added message identifiers will be passed to the
trace list. These menu items will be shown when the filter is in pass mode.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4a7977c37b14e24e6471be29497c3e7f.png) Add CAN frame identifiers from
database or on the fly. These added message identifiers will be blocked and will
not be displayed in the trace list. These menu items will be shown when the
filiter is in block mode.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c7ce1d5fa41f802289f9b40cb3cc1be0.png) This operation will remove the
selected message identifier from the filter list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fdc20b273de68d2822954c96271a4c5b.png) This operation clears all the
message identifier items from the filter list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9bab7a7ab53575cd5389be8ceec6acb9.png) This checkbox controls whether
the message identifier filter is enabled or not.

1.  Trace list columns

**Absolute Time**: Absolute measurement time in seconds, this is the default
time display format. The absolute time or message will be displayed in this
column.

**Relative Time**: The relative time indicates the time in relation to the
preceding message. In chronological mode this is the message received directly
before the current message, whereas in fixed position mode the relative time is
displayed in relation to the previous message of the same type.

**Chn**: The channel number of the message.

**Identifier**: CAN message identifier, extended identifier format will add a
“x” symbol to the identifier value.

**FPS**: Frames per second, this column displays the frame rate of specific
identifier.

**Message Name**: The name of the message defined in the database.

**Type**: CAN message type will be displayed here including the following:

-   Data: Classical CAN data frame

-   Remote: Classical CAN remote frame

-   FD: CAN FD frame

**Dir**: Direction of the CAN message, can be Tx (transmit) or Rx (receive)

**DLC**: Data length code from CAN messages, in CAN FD frame the DLC has the
following relationships with the length of data bytes:

| DLC  | Data length |
|------|-------------|
| 0\~8 | Same as DLC |
| 9    | 12          |
| 10   | 16          |
| 11   | 20          |
| 12   | 24          |
| 13   | 32          |
| 14   | 48          |
| 15   | 64          |

**Data Len**: The length of data bytes.

**Message Data Bytes**: Each data byte of the message. In CAN FD frame, the data
byte can be larger than 8 bytes, each data byte with index starting from 0 is
shown:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/812a08c360ba917efd7f85009d11166a.png)

Fig 23 Message data bytes with index starting from 0

1.  Trace Signals Display

Trace signals can be expanded if a message is defined in the loaded CAN
database:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5c71b6c0005625e32e14d011931cac50.png)

Fig 24 Signals with updated values highlighted

1.  Popup Menus

Most of trace popup menu items can be found in trace toolbar except “Copy” and
“Block selected message”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7a10a51af1d0903dafbc2a653e28f02a.png)

Fig 25 Trace popup menu

To copy the trace lines, the user has to select certain trace lines and then
click the “Copy” item. The selected text has the same layout as trace display:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5b5099fd0c03fa78e5878a5dcc4bd456.png)

Fig 26 Selected trace lines in text

1.  CAN / CAN FD Transmit Window

CAN / CAN FD frames can be transmitted manually or periodically by CAN / CAN FD
transmit window:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c1d856b346a9df8857383a67f003a010.png)

Fig 27 CAN / CAN FD Transmit Window

1.  Transmit toolbar

Add a CAN message from database.

Add a raw CAN message directly into transmit list, which can be freely modified.

Copy selected CAN messages into clipboard, which can be pasted into current
transmit list.

Paste the copied CAN message from clipboard into the current transmit list.

Delete the selected CAN messages from current list

Remove all the CAN messages from current list.

Save the current transmit list to an external file. For the first time a save
dialog box appears for the user to specify destination file. The following save
operations will overwrite this file.

Export the current transmit list to an external file.

Load transmit list from external file, this operation will overwrite all the
existing transmit list.

Start the transmission of the current transmit list. Note: this operation will
send all the frames inside the transmit list, for manual transmit messages, only
one frame is sent per message; for cyclic transmit messages, all of them are
scheduled to be sent periodically.

Stop all the periodically transmitted messages. Note: this operation will be
executed everytime when application disconnects.

1.  Transmit list

The transmit list contains messages to be edited, each message has the following
properties:

**Row**: The number of each transmit message in ascending order, this field is
read-only and cannot be edited.

**Send**: This is a button controlling the current message transmission. The
style of this button depends on the trigger type of the current message:

-   Manal transmit message: Each click on this button will trigger one CAN
    message transmission.

-   Periodic transmit message: The first click on this button will start the
    cyclic transmission of this message. The transmit button will then switch to
    a “Stop” button: ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/823d5e404935b74795261a2d76a6e34d.png) The next
    click on this stop button will stop the cyclic transmission of the current
    message.

**Trigger**: Message transmission type:

-   Manual: One click on the “Send” button will trigger one CAN message
    transmission

-   Periodic: Periodic transmission type has the following properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/62b5639ba85335ae1b126354b8238ecd.png)

Fig 28 Periodic transmission type configuration

The period can be within range from 1ms to 1000000000ms.

**Message Name**: The name of the message, if this message is added from CAN
database, then the message name is defined by CAN database and cannot be
modified by user; if this message is added manually, then the name of the
message can be freely altered by user.

**Id**: Identifier of CAN message.

**Chn**: The channel number of CAN message.

**Type**: CAN frame type, can be the one of the following 6 types:

-   Std. Data: Classical CAN data frame with standard identifier

-   Std. Remote: Classical CAN remote frame with standard identifer

-   Std. FD: FD frame with standard identifier

-   Ext. Data: Classical CAN data frame with extended identifier

-   Ext. Remote: Classical CAN remote frame with extended identifier

-   Ext. FD: FD frame with extended identifier

**DLC**: Data length code of the CAN message, which can be within range 0\~15.

**D0\~D7**: Classical CAN data frame data byte editors. Note: In FD CAN frame,
these editors are unavailable and replaced by “Raw Data” editors located on the
bottom panel.

1.  Signals list

Signals list displays editors for modifying signal properties of the selected
CAN message defined in CAN database. The raw CAN messages do not have signals
list editors.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f2600e985905eb5710eb4073c9952728.png)

Fig 29 Signals list of the selected CAN message

Signal Name

The signal name defined in the CAN database.

Signal Gen.

The signal value generator feature, which has three buttons for sending and
configuring the value changing behavior of each CAN signal:

-   Start generating of the current signal. Once this button is clicked, the
    button changes to “Pause” button shown below.

-   Pause button, once this button is clicked, the current CAN signal generator
    pauses, the button then changes back to “Send” button shown above.

-   Stop button, a click on this button stop the operation of the current CAN
    signal generator.

Generator

This combobox specifies the generator type of the current CAN signal, which has
the following choices:

-   None: No CAN signal generator is available, the signal value in the sent CAN
    message depends on the physical value set on the “Physical Value” on the
    right side.

-   Ramps and Pulses:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bf7847b0cfec040083036b13f2341269.png)

Fig 30 Ramps and Pulses signal generator

The selected CAN signal will be generated in the time series of
Rise-Hold-Fall-Delay. The high value, low value and each time segment can be
modified.

-   DB Min and Max: The minimum and maximum value defined in the database.

-   Phy Min and Max: The physical minimum and maximum value that the signal can
    reach.

-   Periodic Generation: The signal generator can restart itself when a period
    of value has been generated.

-   Repeat Limit: The restart count of periodic generation, if not specified,
    the restart count of periodic generation is unlimited. This limit number
    depends on the activation status of “Periodic Generation”.

-   Auto Start On Message Transmission: The signal generator will automatically
    start when the parent message is scheduled to be transmitted periodically.

-   Signal Value table: The signal value table defines each signal physical
    value against time in milliscends. The table is read-only except custom
    signal generator.

-   Parameter list: The signal waveform depends the parameters defined in this
    table.

-   Signal waveform preview: The signal value being generated by this generator
    can be previewed in a time-value view here.

-   Value Range

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/90b0c6fcacc9667c6ae3e67560c418bb.png)

Fig 31 Value range signal generator

The value range generator traverses the signal value in “Rising”, “Falling” and
“Alternate” methods.

-   Toggle

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2eac5c1ee33595c34fede6f0d2bb1d86.png)

Fig 32 Toggle signal generator

The toggle signal generator changes the signal value between low and high. The
low and high value can be specified by the user.

-   Random

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f27eeb4c1a27ebd9b46602c2aea000a5.png)

Fig 33 Random signal generator

The random signal generator outputs random signal values. The low value and high
value of the random range can be specified.

-   User Defined

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4a2fd5a1154146049c9588ce81663d6e.png)

Fig 34 User defined signal generator

User defined signal generator provides an interface for the user to interact
with the signal values. The user can make the waveform from external software
such as excel, and then import the waveform data into the transmission value
table.

1.  **Signal Value table**: To append a new value into the table, press “Down”
    key. To insert a new value before the selected value in the table, press
    “Insert” key. Note: the time series in the table must be in ascending order,
    otherwise the generator will stop on the incorrect time.

2.  **Import button**: The user can import signal waveform defined externally.
    The waveform data file should have the extension of “\*.sig” and should have
    the following format:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/32afe74d71e522b68ec2833616ea7ce5.png)

Fig 35 User defined signal generator import file format

Line 1: Interpolation method, only Linear is supported currently.

Line 2: Sample rate in milliseconds. Note: the charactor “;” is the separator
between the key and value in the “key - value” pair.

Line 3: Delay time in milliseconds.

Line 4: Table description of the following “key - value” pair.

Line 5 and the following: Table data defined in “key - value” pair which are
separated by “;” character.

1.  **Export button**: The export feature of the signal generator, which will
    export the current table value into a “\*.sig” file.

Raw Value

Raw value editor of the current selected signal. To modify a signal’s raw value
without touching its physical value, use this editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7e6d8a596fc42950f0ff243fb17d24c6.png) Increment and decrement button
of the raw value. Clicking on the corresponding button increments or decrements
the raw value by the step defined on the “Raw Step” field.

Raw Step

The increment or decrement step of the “Raw Value” field.

Physical Value

Physical value editor of the current selected signal. To modify a signal’s
physical value without touching its raw value, use this editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7e6d8a596fc42950f0ff243fb17d24c6.png) Increment and decrement button
of the physical value. Clicking on the corresponding button increments or
decrements the physical value by the step defined on the “Phys Step” field.

Phys Step

The increment or decrement step of the “Physical Value” field.

Comment

User comment on the specified signal.

1.  CAN Statistics

    1.  CAN Statistics list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fd0e76075f586bb0abafe0611d65759c.png)

Fig 36 CAN Statistics

CAN Statistics window displays bus load and frame rate of each CAN channel. The
following value can be monitored:

Bus Load: CAN bus load in percentage.

Peak Load: CAN bus peak load from the start of measurement in percentage.

Std. Data [fr / s]: Standard classical CAN data frame rate per second.

Std. Data [total]: Total number of classical standard CAN data frame.

Ext. Data [fr / s]: Extended classical CAN data frame rate per second.

Ext. Data [total]: Total number of classical extended CAN data frame.

Std. Remote [fr / s]: Standard classical CAN remote frame rate per second.

Std. Remote [total]: Total number of remote classical CAN remote frame.

Ext. Remote [fr / s]: Extended classical CAN remote frame rate per second.

Ext. Remote [total]: Total number of extended classical CAN remote frame.

Error frames [fr / s]: CAN error frame rate per second.

Error frames [total]: Total number of CAN error frames.

1.  CAN statistics popup menu

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/859e025a05bffdc6b40786f6562ab107.png)

Fig 37 CAN statistics popup menu

Clear Statistics: Clear all the statistics data immediately.

Pause: Pause the display of current CAN statistics data.

1.  Graphics

Graphics window displays signals from CAN, CAN FD and LIN messages.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/66c33045487817f4c09d70ae72e79ee0.png)

Fig 38 Graphics

1.  Graphics toolbar

Pause the display of graphics, the next click on this button will resume the
display of graphics.

This checkbox controls the display of left signal list panel.

Absolute time and relative time switch box, when enabled, the time axis in the
graphics will switch to a formatted date time display:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/db665f46f29f05b2b067c649b57adb9e.png)

Fig 39 Formatted date time display of time axis

When disabled, the time axis will display relative time relative to the
beginning of measurement.

Zoom in button, click to zoom in the graphic display in time.

Zoom out button, click to zoom out the graphic display in time.

Zoom reset button, click to set the graphics display to original zoom factor.

Add a CAN signal from database.

Add a LIN signal from database.

Delete the selected signal in the list.

This checkbox displays or hides the measurement cursor. When this checkbox is
checked, a measurement cursor will be displayed on the graphics window, which
displays the selected signal value according to the measurement time. Move the
cursor across the graphic area, you will see the value displayed in the
measurement cursor being continuously updated. Uncheck this checkbox hids the
measurement cursor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/eb2779ac490293991f871cea336577f1.png)

Fig 40 Graphics measurement cursor

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb5ff31ffdd72a7b7b9fd2ca04af6965.png) Time measurement cursor
checkbox. This checkbox shows or hides the time measurement cursor pair.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/777fb93acc2db1ec1e3e8f9932375836.png)

Fig 41 Time measurement cursor checkbox

When the time measurement cursor is enabled, the user can define a time range
between blue cursor and red cursor. “Left click” on the graphics window drops a
blue cursor to the location of the click point, and “Right click” on the
graphics window drops a red cursor to the location of the click point. The delta
time between blue cursor and red cursor will then be displayed on the bottem
area of time axis in the graphics window.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/db69f78aef903b0661b2b21c08736384.png) Sample point display. When this
checkbox is checked, each sample point will be displayed in the graphics window,
it is easy for the user to detect frame loss situation with the help of the
samle point display.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b498950dd41d010876b35a47d7dc126f.png)

Fig 42 Sample point display

Export graphics data to an external location. Note: this button is only enabled
when application disconnects.

Import graphics data from an external location. Note: this button is only
enabled when application disconnects.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0e3bbf4c47883e6650b2d2fa89ab692d.png) Clears all the data in the
graphics.

1.  Graphics signal list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/44f6e2eb68c604375853cad74d61795a.png)

Fig 43 Graphics signal list

Signal visibility checkbox, the signal will be set to hidden when this checkbox
is unchecked.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7ebfffed06c03eae5f25b0d2f9b0d547.png) Always show value axis checkbox,
if the checkbox is checked, the value axis of the specified signal will be
displayed in the graphics window permanently.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1bcbc29061ab35439ff7c12b82384955.png)

Fig 44 Signal axis display

Color picker. Clicking on this button will popup a dialogbox for the user to
pick a color for the specified signal:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/dfdb7c048877a79e7d779ceadad54272.png)

Fig 45 Color picker of graphic signals

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c79e97633758814bde0c5a86d1fcaa2b.png) Signal name field, this field
displays signal name according to the database definition.

Signal value field, this field display real-time signal physical value.

1.  Signal property inspector

Signal property inspector will be popuped when the signal in the list is
double-clicked, or the “Edit Signal…” menu item is clicked. Take “CAN signal
property inspector” as an example:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/77b88310ea7855d29b37dc601e88666b.png)

Fig 46 Signal properties inspector

The following properties can be displayed or modified by user freely:

Name: the signal name

Length: the bit count of the signal

Byte Order: Intel or Motorola byte order switch of the signal

Value Type: the value type can be Unsigned, Signed, 32-bit float or 64-bit float

Minimum: the minimum physical value of the signal, this value also adjusts the
lower range of graphics display

Maximum: the maximum physical value of the signal, this value also adjusts the
higher range of graphics display

Unit: the unit of the signal

Factor: enlarge factor of the signal

Offset: offset value of the signal

Init. Value: initialize value of the signal

Comment: the user can add comments on the specified signal

Start Bit: the signal start bit in the message which contains it

Message ID: the identifier of the message which contains it

Channel Number: the CAN channel number of the signal

1.  Signal Popup menu

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/eca21e93cce9abcf87e87917962883b6.png)

Fig 47 Graphics signal popup menu

Check selected: Make all the selected signals visible in the graphics.

Uncheck selected: Make all the selected signals invisible in the graphics.

Check All: Make all the signals visible in the graphics.

Uncheck All: Make all the signals invisible in the graphics.

Add CAN signal from database…: This button popup a CAN database signal selector
for the user to select CAN signals to monitor.

Add LIN signal from database…: This button popup a LIN database signal selector
for the user to select LIN signals to monitor.

Add user defined signal…: This button adds a custom signal in the list, which
can be modified later.

Edit Signal…: Popups the “Signal property inspector” as described above.

Delete Signal: This buttonj deletes all the selected signals from the list.

Clear All Signals: This button deletes all the signals from the list.

Pause Graphics: This button pauses the display of the current graphics window, a
click on this button again will resume the display of the current graphics
window.

1.  CAN Database

CAN database viewer can be used to load/unload CAN database, select CAN messages
or CAN signals in the TSMaster application.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8c1adf308b6436251b2a142439081880.png)

Fig 48 CAN Database

1.  CAN database toolbar

Add a CAN database from external \*.dbc file

Edit the current selected database (\*.dbc file) using default editor on this
computer

Delete the current selected database from the database list

Delete all the database links from the database list

Increase a channel resource for database file mapping

Decrease a channel resource for database file mapping

Expand all nodes in the database treeview

Collapse all nodes in the database treeview

Filter by: database element filter, can be the following for user to select in
database element selector mode:

-   Show All: all the database elements will be displayed in the treeview

-   CAN Signal: Only CAN signals are displayed

-   CAN Message: Only CAN messages are displayed

-   CAN Node: Only CAN nodes are displayed

-   Envrionment Variable: Only environment variables are displayed

    1.  CAN database channel assignment

CAN database channel assignment enables the user to associate the selected
database with specific CAN channels. A CAN database can support only one CAN
channel, or multiple channels.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d0bb1be97bc27bf97f9341214cbfc1cc.png)

Fig 49 Channel assignment

When there are multiple database files loaded, the user may right-click on the
specific CAN channel, which popups a list of available CAN databases. The user
can associate / deassociate the database with the currently selected CAN channel
by clicking on the database item in the popup menu.

1.  CAN Database field viewer

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/67f9d209c75c8d657d75ef90d1bd3583.png)

Fig 50 CAN database field viewer

The CAN database field viewer is used to display properties of the selected
element, which can be CAN signal, CAN message, CAN node, environment variable or
CAN network.

Note: the CAN database field viewer currently not supports editing of CAN
elements.

1.  CAN element treeview

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cd489fc78785943927739bfda606ad7f.png)

Fig 51 CAN element treeview

The CAN element treeview displays all the loaded CAN database information
including CAN network, CAN signals, CAN messages, CAN nodes and Environment
variables.

1.  Hardware Configuration

The hardware configuration window is used to set hardware parameters before
measurement starts.

1.  Configuration Page

The configuration page contains all the application channels specified by user.
There is a button which opens channel selection dialog mentioned above.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/23dd282ee650461d928ef4b295c0b646.png)

Fig 52 Hardware Configuration page

1.  Channel configuration page

The channel configuration page differs when different application channel is
selected. The user must check the hardware settings in each channel before
starting the measurement.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6641906c88edbd6165db6149d6bfe8e3.png)

Fig 53 Hardware channel settings

1.  Bus Logging

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b01348d1802bca685345767b86957fa0.png)

Fig 54 Bus logging

1.  Bus logging toolbar

Start logging, this button is disabled when logging engine is working.

Pause logging, this button is enabled when logging engine is working.

Stop logging, this button is enabled when logging engine is working.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f3200be90a444a2e2c4409bf930471ab.png) Log file destination editor.

Select log file location.

Opens folder of log file destination.

Starts TS log file converter to convert log files to another format.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/03e16692213c3354a3c6b543a614c8a2.png) Default path checkbox, if this
checkbox is checked, the log file destination folder will be set to relative
folder to TSMaster configuration file.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5f16d91a1e44b4eab7a79b219d287507.png) Auto add timestamp to every log
file name.

1.  Bus logging popup menu

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e50447b2198c13b3394a11ff3eda1428.png)

Fig 55 Bus logging popup menu

The popup menu will popups when user right-click on the log file list. All the
menu items are described in the above chapter.

1.  Bus Playback

Bus playback window replays CAN, CAN FD and LIN messages from external log files
when the application is not connected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fd28c343549319890fce26578bace019.png)

Fig 56 Bus playback

1.  Bus playback toolbar

Starts playback. This button is not enabled when application is connected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3400dc145af388e21b4562405e6abd02.png) Pause playback. This button is
enabled when playback starts.

Stop playback. This button is enabled when playback starts.

Add playback files to the log file list.

Remove the selected log files from the list.

Remove all the log files from the list.

1.  Bus playback popup menu

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cff4676b1e258f7d505e4ab71892711e.png)

Fig 57 Bus playback popup menu

The menu items are described in the above chapter except:

Open containing folder…: Open the folder which contains the selected log file.

Rename…: Popups a rename dialog box for the user to rename the selected log
file.

1.  Playback control

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a809906a759f9e30474d2cafdf2bf734.png)

Fig 58 Bus playback control

Playback progress indication.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1d1ae4100777bbb38ee480c2bf33daeb.png) Playback range selection.

1.  Meter

Meter displays CAN or LIN signals defined in CAN or LIN databases.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a0349221ef04989e5c5d724886a7811a.png)

Fig 59 Meter

1.  Meter toolbar

Pause display of meter signals, when checked, all the meter signals refresh
tasks are paused.

Add a CAN signal from database.

Add a LIN signal from database.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4c26676b8d1d6bc26ffef67378720bc3.png) Enable customization of the
layout of meters.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a77dad1887c003c77d6a6615d2360cd2.png) Select meter display style.

Delete the selected meter signals.

Delete all the signals in meter window.

1.  Meter Layout Control

You can simply click customization button
![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4c26676b8d1d6bc26ffef67378720bc3.png) to control each meter layout:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d9547de76b51a20972c59d23d88b2d83.png)

Fig 60 Meter Control customization

Then you can directly drag and drop each meter to your desired location:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a1626c94baa0ffbc1a893e37e7936ae8.png)

Fig 61 Meter Control drag and drop

After the customization window is closed, you are leaving the customization
mode.

Another way to quick customize the meter is to directly drag the caption area of
each meter to align it:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/13e9636747db8ba999527c5b2982b5b1.png)

Fig 62 Drag caption area to align it

1.  Meter signal editor

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/92ab16770dc14aa36a48cedb06df974e.png)

Fig 63 Meter signal editor

Name: the name of the signal to be displayed.

Length: signal bit count.

Byte Order: can be Intel or Motorola.

Value Type: can be Unsigned, Signed, 32-bit float or 64-bit float.

Minimum: the minimum physical value of the signal, this setting also affects the
graphical minimum range.

Maximum: the maximum physical value of the signal, this setting also affects the
graphical maximum range.

Unit: the unit of signal physical value.

Factor: the enlarge factor of the physical value of signal.

Offset: the offset value of the physical value of the signal.

UI Size in width and height: user can adjust the size of the meter by modifying
these parameters.

Switch Type: the following types are supported:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9d6fb893bc1f745958b261c07986d8eb.png)

Fig 64 The type of meter display

1.  LIN Trace

    1.  Trace toolbar

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/60c63c9dbc6b741715d00a3a00f87e2c.png) Pause display button,
        when checked, the “Pause” button will switch to “Continue”
        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/756ef922920e972f0e7dc3a814246d12.png) and incoming events will
        not be refreshed on the screen. The incoming events will be visible
        again when the “Continue” button is clicked.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/19c3877f72d1f7b18951085593b12de6.png) Clear the display of the
        current trace window.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/83b7dd2fbe35bc881dba11562e985df4.png) This checkbox sets trace
        window in chronological view mode. In this mode every incoming new
        message will be display as one trace line.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/db6e66391500be89b714a6c6292f677b.png) This checkbox sets trace
        window in relative time mode.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2d249b9bfb533c9b902c42b9383cd690.png) This checkbox ensures
        the trace list always scroll to the latest message.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d202e535e9a0b7795ef2f12090404fad.png) Expand all message nodes
        to view their signal values.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a598249925521ad5c88eb7801b6f2255.png) Collapse all message
        nodes so signals are hidden.

        ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/33f720cdc3cf34d50a8e196d5435b9f3.png) Filter trace list with
        specified string, the filter string can be the following types:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/077ec977bf57eaa417d898f1c286b713.png)

Fig 65 Filter by identifier

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9f04825a8347ac1da138ceaa149c3e6c.png)

Fig 66 Filter by signal name

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b828b3ec3625d40639e3026db7e7c1ff.png)

Fig 67 Filter by message name

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d154bebeecd8e4e9e9861f3fced63569.png)

Fig 68 Filter by signal symbol value

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8d3eef3efcf5e9e29c4f185164504e68.png)

Fig 69 Filter by signal numeric value

>   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f19c6d1d2c4935bd4c3d5095b5f6410b.png) Clear filter value, the
>   trace list will then display all the trace lines.

>   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/731d1f923849559956ea6d1f376a2af3.png) Message filter tool, which
>   allows specific message identifiers to display in the trace, and meanwhile
>   blocks other message identifiers. User can use this message filter to hide
>   some irrelevant messages, or just monitor certain messages.

1.  Trace message identifier filter

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7d4f509c70e86afea4f4ca0c15f8fc24.png)

Fig 70 Trace message identifier filter

>   The trace message identifier filter works under either of the two
>   conditions:

1.  Block mode ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a9f3eddf76923dda03e0b9d52cfaaa18.png)

The message identifier in the list will be blocked, and other message will pass
the fiter. In the above picture, only 0x12 will be blocked, while other message
identifiers will be displayed in the trace window.

1.  Pass mode ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/692ee0355919186b681b9de7c8e0af0c.png)

The message identifier in the list will be passed, and other message will be
blocked. In the following picture, only 0x12 will be refreshed in the trace
list:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/affe9bb69f94beff0ea2563db669910d.png)

Fig 71 Message identifier filter working in pass mode

To add or delete message identifiers in the list, just right-click on the empty
area of the list, you will see the following popup menu items:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e72aa6a3253ecd2291100aaa04504ba0.png)

Fig 72 Add or delete message identifiers in the list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fd5555671976560db60a711b75984f9f.png) Add LIN frame identifiers from
database or on the fly. These added message identifiers will be passed to the
trace list. These menu items will be shown when the filter is in pass mode.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb4ac9e542badf0f85dcb6e2199fd5f5.png) Add LIN frame identifiers from
database or on the fly. These added message identifiers will be blocked and will
not be displayed in the trace list. These menu items will be shown when the
filiter is in block mode.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c7ce1d5fa41f802289f9b40cb3cc1be0.png) This operation will remove the
selected message identifier from the filter list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fdc20b273de68d2822954c96271a4c5b.png) This operation clears all the
message identifier items from the filter list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9bab7a7ab53575cd5389be8ceec6acb9.png) This checkbox controls whether
the message identifier filter is enabled or not.

1.  Trace list columns

**Absolute Time**: Absolute measurement time in seconds, this is the default
time display format. The absolute time or message will be displayed in this
column.

**Relative Time**: The relative time indicates the time in relation to the
preceding message. In chronological mode this is the message received directly
before the current message, whereas in fixed position mode the relative time is
displayed in relation to the previous message of the same type.

**Chn**: The channel number of the message.

**Identifier**: LIN message identifier.

**FPS**: Frames per second, this column displays the frame rate of specific
identifier.

**Message Name**: The name of the message defined in the database.

**Checksum**: LIN frame checksum value read by tool.

**Dir**: Direction of the LIN message, can be Tx (transmit) or Rx (receive)

**DLC**: Data length code from LIN messages.

**Message Data Bytes**: Each data byte of the message.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e85ef5153c528fff6400459e92b233ae.png)

Fig 73 Message data bytes with index starting from 0

1.  Trace Signals Display

Trace signals can be expanded if a message is defined in the loaded LIN
database:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d1d0f69edaae6a88f517288b0e45ff46.png)

Fig 74 Signals with updated values highlighted

1.  Popup Menus

Most of trace popup menu items can be found in trace toolbar except “Copy” and
“Block selected message”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2e7b2e5cb53027eeb9796ad59480e4ee.png)

Fig 75 Trace popup menu

To copy the trace lines, the user has to select certain trace lines and then
click the “Copy” item. The selected text has the same layout as trace display:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b87c91aef2ef167cf2427072484ffe4e.png)

Fig 76 Selected trace lines in text

1.  LIN Transmit

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4370d40883069e6f9498a749305356aa.png)

Fig 77 LIN Transmit

1.  Transmit toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4b5f563ed133e98b7e23d8194edb1c24.png) Add a LIN message from database.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1293e8e50c57069b021a9292ba636dc2.png) Add a raw LIN message directly
into transmit list, which can be freely modified.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f81a99fbc0ea77ecfa1957b90b965695.png) Copy selected LIN messages into
clipboard, which can be pasted into current transmit list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b74eab81d53e1a465e0b0deeddc883c9.png) Paste the copied LIN message
from clipboard into the current transmit list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0617c69fad385a19f59bf021f31f548a.png) Delete the selected LIN messages
from current list

Remove all the LIN messages from current list.

Add a new schedule table.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3795daa3318146cd73039162359ded6c.png) Delete the selected schedule
table including its messages and signals.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d3d5e7e1056fec65dc78a9dc167be0f2.png) Save the current transmit list
to an external file. For the first time a save dialog box appears for the user
to specify destination file. The following save operations will overwrite this
file.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/41b8f9745768d95cd4fd9c4d9eaac552.png) Export the current transmit list
to an external file.

Load transmit list from external file, this operation will overwrite all the
existing transmit list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8090db6544ab18f9d9480f8ac738c719.png) Select LIN node, this will popup
a LIN database window for the user to choose LIN node. After a LIN node is
selected, the message list and schedule tables are associated with this node for
simulation.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c9e280ca02046c0f2cea087576f8c22b.png) Deploy the schedule table into
the hardware. The LIN hardware will automatically perform LIN message
transmission.

Undeploy all LIN messages. When this button is clicked, the scheduled LIN frames
in the hardware are stopped.

1.  LIN schedule table list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/911ddb46c6c4077e72c68dcca1fc2d84.png)

Fig 78 LIN schedule tables

The LIN schedule table list displays all the schedule tables of the current
master node. If the current LIN node is not LIN master, this page is
automatically hidden. Select one item in the list will display all the frame
list on the message list.

1.  Transmit list

The transmit list contains messages to be edited, each message has the following
properties:

**Row**: The number of each transmit message in ascending order, this field is
read-only and cannot be edited.

**Enable**: Activate or deactivate the current LIN frame.

**Message Name**: The name of the message, if this message is added from LIN
database, then the message name is defined by LIN database and cannot be
modified by user; if this message is added manually, then the name of the
message can be freely altered by user.

**Id**: Identifier of LIN message.

**Chn**: The channel number of LIN message.

**DLC**: Data length code of the LIN message, which can be within range 0\~8.

**D0\~D7**: LIN data frame data byte editors.

**Delay Time (ms)**: LIN frame transmit delay time in milliseonds.

**Comment**: User can edit the comment of each LIN frame.

1.  Signals list

Signals list displays editors for modifying signal properties of the selected
LIN message defined in LIN database. The raw LIN messages do not have signals
list editors.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/465c8a49ad236bf299faa36ab9966e4f.png)

Fig 79 Signals list of the selected LIN message

Signal Name

The signal name defined in the LIN database.

Signal Gen.

The signal value generator feature, which has three buttons for sending and
configuring the value changing behavior of each LIN signal:

-   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/756101f2afafe8edecf4d77f09094ace.png) Start generating of the
    current signal. Once this button is clicked, the button changes to “Pause”
    button shown below.

-   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2d4dc02543f22eeb7d0e62eec9588d43.png) Pause button, once this
    button is clicked, the current LIN signal generator pauses, the button then
    changes back to “Send” button shown above.

-   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9f0bd998216784d94ef8878262ad50e9.png) Stop button, a click on this
    button stop the operation of the current LIN signal generator.

Generator

This combobox specifies the generator type of the current LIN signal, which is
described in “CAN Transmit Window”.

Raw Value

Raw value editor of the current selected signal. To modify a signal’s raw value
without touching its physical value, use this editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7e6d8a596fc42950f0ff243fb17d24c6.png) Increment and decrement button
of the raw value. Clicking on the corresponding button increments or decrements
the raw value by the step defined on the “Raw Step” field.

Raw Step

The increment or decrement step of the “Raw Value” field.

Physical Value

Physical value editor of the current selected signal. To modify a signal’s
physical value without touching its raw value, use this editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7e6d8a596fc42950f0ff243fb17d24c6.png) Increment and decrement button
of the physical value. Clicking on the corresponding button increments or
decrements the physical value by the step defined on the “Phys Step” field.

Phys Step

The increment or decrement step of the “Physical Value” field.

Comment

User comment on the specified signal.

1.  LIN Database

LIN database viewer can be used to load/unload LIN database, select LIN messages
or LIN signals in the TSMaster application.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4a4e7c81621616f28db8219819809323.png)

Fig 80 LIN Database

1.  LIN database toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/93f336b63042a27c2de86126f29b2273.png) Add a LIN database from external
\*.ldf file

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/264550324e3fc9ba767a0bf95fbfa24a.png) Edit the current selected
database (\*.ldf file) using default editor on this computer

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/28309bc7c242f9eb51667a7ca31e91cd.png) Delete the current selected
database from the database list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea4d7ea0a79f3aea1a444a7319fd6670.png) Delete all the database links
from the database list

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e9ff11e1929e8c6b8b7d5c1cba2d9fbe.png) Increase a channel resource for
database file mapping

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e768068e6119d820b5fe3fbfc6618752.png) Decrease a channel resource for
database file mapping

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2b78eaafdcf4af6f5985e675b2516a6d.png) Expand all nodes in the database
treeview

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/199c87d241fc949cb6514a3d36d31378.png) Collapse all nodes in the
database treeview

Filter by: database element filter, can be the following for user to select in
database element selector mode:

-   Show All: all the database elements will be displayed in the treeview

-   LIN Signal: Only LIN signals are displayed

-   LIN Message: Only LIN messages are displayed

-   LIN Node: Only LIN nodes are displayed

-   Envrionment Variable: Only environment variables are displayed

    1.  LIN database channel assignment

LIN database channel assignment enables the user to associate the selected
database with specific LIN channels. A LIN database can support only one LIN
channel, or multiple channels.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6f4880a8fde9e676da54e2b9ff4e385b.png)

Fig 81 Channel assignment

When there are multiple database files loaded, the user may right-click on the
specific LIN channel, which popups a list of available LIN databases. The user
can associate / deassociate the database with the currently selected LIN channel
by clicking on the database item in the popup menu.

1.  LIN element treeview

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/56625b9c131702193a340b1b25456886.png)

Fig 82 LIN element treeview

The LIN element treeview displays all the loaded LIN database information
including LIN network, LIN signals, LIN messages, LIN nodes, LIN schedule tables
and Environment variables.

1.  TS Channel Mapping

TS channel mapping window is a tool for the management of hardware and logical
channel mappings.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/53281b334e47893b1ade38cf4f14d895.png)

Fig 83 TS Channel Mapping

1.  TS Channel Mapping toolbar

Expand all the tree nodes of hardware list.

Collapse all the tree nodes of hardware list.

Refresh hardware channel and logical channel lists.

1.  Hardware channel and application list

The list has two main groups: hardware channels and applications:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7ebab5be68fdae65c71e9611ca785bb6.png)

Fig 84 Hardware channels and applications

The hardware list displays each hardware devices and available channels inside
the device.

The application list displays all the applications that requires mapping.

1.  Map a hardware channel with a logical application channel

There are several ways for a user to map.

-   Right click on the hardware channel

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/494067e5bc2cdbc6007cf22eba1c531a.png)

Fig 85 Right click on the hardware channel

-   Right click on the application logical channel

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/019dee5b777b3c8c786454960c82d749.png)

Fig 86 Right click on the logical channel

1.  Add or delete an application

To add a new application, right-click on the “Application” group and select “Add
application…” menu item.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bcdb8c1004b5caf08080788818a9f428.png)

Fig 87 Add a new application

To delete an existing application, right-click on the specified application, and
select “Delete application…” menu item.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9631fbdafcec562aa1e005d34c418c4d.png)

Fig 88 Delete application

1.  Set channel count of a bus type

To set the channel count of a bus type such as LIN bus, right-click on the “LIN
channels” group and select “Set channel count” menu item:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e6f70869b60acb18da63ded2f7ead51f.png)

Fig 89 Set application channel count

1.  Software Configuration

The software configuration controls each application form’s status:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/38f72246e2d76ab1ccc60712026c3bc2.png)

Fig 90 Software configuration

The list contains all the opened application windows. With the help of its
pop-up menu, the user can delete the selected window, rename the selected window
and also create new window to perform specific tasks.

1.  TS Log Converter

    1.  Log file types

TS log file converter can be started in “Analysis – Log Converter”, which
converts log files from one format to another format. The following formats are
supported:

Table 2 TS Log Converter capabilities

| Source format | Destination format | Support | Comments     |
|---------------|--------------------|---------|--------------|
| asc           | blf                | ●       |              |
| asc           | mat                | ●       | dbc required |
| blf           | asc                | ●       |              |
| blf           | mat                | ●       | dbc required |
| mat           | asc                | ○       |              |
| mat           | blf                | ○       |              |

1.  Log converter interface

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5e5b7940177034903f59558fda73c9b2.png)

Fig 91 Log converter interface

Source File: the source log file to be converted, acceptable file types can be
“\*.asc” and “\*.blf”.

Destination File: the destination log file for the conversion result, acceptable
file types can be “\*.asc”, “\*.blf” and “\*.mat”.

CAN Databases: the additional CAN database file list for user to load “\*.dbc”
file. Note: only “\*.mat” output file requires this section.

Help: opens this help file.

Convert: starts convertion based on the specified source and destination file.

Stop: stop conversion.

1.  Mat File Example

Load sample dbc “Powertrain.dbc” and “Comfort.dbc” into TSMaster. Stimulate the
“EngSpeed” signal with signal generator in the transmit window.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6e152b94c137c5eba0099b47b2f38148.png)

Fig 92 Load dbc and stimulate EngSpeed signal

Start logging of blf file and after some while stop logging.

After blf file is created, load the blf file in TS log converter and associate
dbc files:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea0599b6d0d87f3282dad0d22aa85863.png)

Fig 93 Specify log files and database files

After the log file has been converted, drag the mat file into MATLAB, find the
signal “EngSpeed” in the workspace, and plot it by clicking “plot” in the popup
menu, you will see the signal trace.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/699a5996882f726affcbbb422b1ae1fc.png)

Fig 94 Find signal "EngSpeed" and plot it

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e5a11da0e880a1ef1863257d5733e956.png)

Fig 95 EngSpeed signal has been plotted

1.  CAN Remaining Bus Simulation

CAN Remaining Bus Simulation (CAN RBS) is a software module performing CAN Bus
simulation that sending background messages of network nodes defined in the CAN
databases.

Please refer to the following examples to use CAN RBS simulation on UI, or with
scripts:

*“CAN Remaining Bus Simulation UI.T7z”*

*“CAN Remaining Bus Simulation Scripting.T7z”*

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/eaa8710a873d266f36d5d1c9e7f03e90.png)

Fig 96 CAN Remaining Bus Simulation Examples

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b492bf2e993ae7ed20ae1b2689f37580.png)

Fig 97 CAN Remaining Bus Simulation

1.  CAN RBS toolbar

Start simulation, the activated message in the list will be scheduled in the
transmission engine.

Stop simulation, all the message transmissions are halted.

>   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d202e535e9a0b7795ef2f12090404fad.png) Expand all nodes to view
>   their transmission messages.

>   ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a598249925521ad5c88eb7801b6f2255.png) Collapse all nodes so
>   messages are hidden.

Select all messages in the list.

Deselect all messages in the list.

1.  CAN RBS message list

The CAN RBS message list displays all the information and properties of each
node’s transmit message. User can modify message properties while the simulation
is running.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e4624e21bcb03567da0378b265c0ceb1.png)

Fig 98 CAN RBS list

The fields that support dynamic assignment are:

-   Message interval (ms)

-   Message identifier

-   Message DLC

-   Message data bytes

    1.  Modify Signal In CAN RBS

You can expand the message to directly modify its signal value, which will take
effect immediately:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2735f011258fada0d2a4d36e86415177.png)

Fig 99 Modify signal value in RBS in UI

You can also modify signals in scripts, please refer to example: *“CAN Remaining
Bus Simulation Scripting.T7z”*

1.  C Script Editor

C Script editor is a C implementation of TS Mini Program. TSMaster C script
enables the user to utilize maximum abilities of TSMaster main application.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/eb77b88053688c793b9efa9bb5fe0788.png)

Fig 100 C Code Editor user interface

1.  C Script Editor toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cc86b6938c4d8dead223a07a9c20a802.png) Undo and Redo the modification
you made in the script.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea617efdeac8bccdc1f592f59fa234d5.png) Copy, Paste and Cut the selected
text in the script editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9fc702e37e62c73c72860e79a6d30133.png) Expand or collapse the left
symbol tree or function tree.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b14f0dc5134ea4f5eb5876c74e9d868c.png) Editor color configuration,
which brings up a syntax color editor for you to choose styles:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/32e4ee708f73af133e62a4aa26ffc94f.png)

Fig 101 Color editor

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/23475787f61c464bc1859b5cf5ec9009.png) Import an external mpc file into
this code editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a2c222cf3a1139c2faf2db5c03fea419.png) Save the current mpc file, the
system will automatically save this file when application configuration is
saved.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5daa6ee9e226b2ca7bb1d054992bbb72.png) Export the current mpc file to
another location. Note: the script location you are editing won’t be changed.
This is just an export operation.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9807e0ebad62c0d54df58e3946841172.png) Search a text sequence.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/974b740c2bd1951d721b07a0ad966d72.png) Search next, this feature has a
shortcut “F3”, which is really useful when you want to jump to the location of
the same text sequence currently selected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fc195669ecf9bc0ede3313e0fe2644c9.png) Replace a text sequence.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0d9151ef4478d7ea1c23acf1d771dd18.png) Opens the directory containing
the compiled script, after successful compilation, you will find a “.mp” file
inside this directory, drag this file into TSMaster will cause TSMaster treats
this file as a mini program library:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ac7f22e13595a689af069278c75f0d51.png)

Fig 102 Compiled mini program location

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/479cc9f4cf1441f71577882cf0ce46be.png) Compile the current mini
program. Error information will popup if your syntax is incorrect.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/791c8d0c8126e0835f2f675d448b8871.png) Run the current mini program, if
the source file is changed, the mini program is firstly compiled then executed
by the TSMaster.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b39c361ab409c3f901ebe4bfbb29f22c.png) Stop the execution of the
current mini program.

1.  Symbol Tree

The symbol tree items are described as below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6070653892a75bcb0dfdb7c50f9bb1c8.png)

Fig 103 Symbol tree items

Program group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/31f1347aa25d7b5d39daaac68975f73a.png)

The program group contains mini program related headers, sources and
documentation.

Code Generation

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f0138530a21adfca37d8df0d155a1fa8.png)

This section contains all generated source code of this mini program.

This source code is read-only, to solve problems of your code during compile,
you should first goto error line to identify problems, and then navigate to the
associated code section to correct problems.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/dd236a91f1cfff76eb59338d9ab95165.png)

Fig 104 Code generation page

TSMaster Header

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1d2a3f8f4337b738c002b3a5bd4e1f01.png)

This section contains all interface definitions of TSMaster mini program, to
find out record, typedef of TSMaster mini program symbols such as "TCAN",
"PCAN", Please refer to this section.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8e139efa9114c1e3d88e547d9f7c510c.png)

Fig 105 TSMaster header

Database Header

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a393640714b578944bf609645ba2750e.png)

This sections contains all message and signal definitions from any loaded
dbc/ldf databases.

To manipulate a CAN signal for example, you should:

[1] Load specific dbc file into TSMaster

[2] Switch to this section, you will see all the extracted database symbols

[3] Navigate to "Functions" tab on the right, you will see messages in this tree

[4] Right-click on one of the messages such as "Configure_1", and select "Insert
into script"

This will insert the definition of "Configure" message on Channel 1 into the
current script, such as:

TConfigure_1 Configure_1;

Configure_1.*init*();

[5] the last inserted line "Configure_1.init();" is initialization method of
message "Configure_1"

you should cut this line to place before any code which access "Configure_1"

[6] then you can get or set its signals freely:

To get signal value "FL_Speed": result = Wheel_Speed_1.FL_Speed;

To set signal value "FL_Speed": Wheel_Speed_1.FL_Speed = 12.3;

[7] To send this message out, just use the following code:

com.transmit_can_async(&Wheel_Speed_1.FCAN);

where "FCAN" is its internal CAN message object, which contains all raw data
bytes of tihs messageNote: Compile will fail if databases are loaded with same
message names in the same channel.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c13b1f799799e2ed927c284cded8a527.png)

Fig 106 Database Header

Test Header

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0e1823e459d16633a1d53e67c58a8b29.png)

This section contains all parameter definitions of the test system that uses
this mini program as test case.

You can locate any parameter you previously defined in test system.

After parameters are defined, the “Test Header” section will reflect all the
parameter definitions using C code.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/059e29fb90bff06acce370d008d15053.png)

Fig 107 Parameters defined in test system

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/190a73c801e07e9c685791d7cac1d548.png)

Fig 108 Test Header

Global definition

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4573e6ca5ae64e78573c7547279fb886.png)

This section contains all your global definitions, which will be placed before
all event functions such as "\#include \<xxx\>", or "s32 vVar1;", etc.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/10fbb0c0586a8422c0c958bc9e6d9f7c.png)

Fig 109 Global definitions

When you define global variables in the source, they will be generated on top of
the source in “Code Generation”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8760e58cb071a1a995b517c26f914cd4.png)

Fig 110 Globally defined variables in "Code Generation"

Step Function

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a3ca189d5d7916c1d15ceaab445423e4.png)

The function in this section will be automatically executed periodically, such
as step function of ECU tasks, or any periodic task.

Double click on this section will popup property editor, in which you can
specify period in milliseconds.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/25a5f4de9b315f7454e97e814235ce55.png)

Fig 111 Step function configuration

In the example of TSMaster – CarSim cosimulation example, you can see the
algorithm of ABS function is invoked in the step function every 5ms.

You can first prepare function inputs before “abs_SLX_CS9_step” is called, and
retrieve function outputs after “abs_SLX_CS9_step” is called. You can then plot
the important signals in Graphics, panels and so on. You can even plot internal,
or temp. variables, too.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0b68a5384d76e067eaafe042e740fd5d.png)

Fig 112 Step function of ABS SIL test

Documentation

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a5e97b74cc8b9a1cc8af05f25e9d6c62.png)

This section contains documentation texts of this mini program.

You can write comments or descriptions of this mini program here, steps to
create mini program:

[1] modify your program name in "Properties" - "Program Settings" - "Program
Name"

[2] add events or write your logic in "Step Function"

[3] press F9 to run your code

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6b2b107ffcbee79cf042ae500bd3f8bd.png)

Fig 113 Documentation of mini program

Variables Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d7201a16c8f391b546db04e1c5aaf95f.png)

Variables group contains globally defined variables in the current mini program.

If you define variable here, such as "v1" of double type, you should use it with
the following method:

[1] read this variable: double d = v1.get();

[2] write this variable: v1.set(12.34);

[3] watch this variable in realtime: just run your mini program, you will see
this variable value in "Variables" page.

Variable

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3fd565232741c2e9bf6fc6d9f30c4770.png)

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a325b82bf8aa6e35e197a9deca183721.png)

Fig 114 Variable in mini program

When you double click a variable in the group, you will see a popup appears, in
which you can modify the variable name, and type.

Note: each variable you defined in the “Variables Group” will become an internal
system variable in TSMaster when this script is being executed, that is, you can
monitor this variable in real-time in Graphics, Panels or even in your other
mini programs. Please refer to TSMaster example “System Variables in Mini
Program” for details:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d7a0f6753ed5ecf6c9e895be3ac4b0b9.png)

Fig 115 Variables will become System variables

Timers Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9ce75cdd3373f14cc2e865bad5d17082.png)

Timer group contains every timer you defined. To use timer, you should for
example:

[1] define a timer in this group such as "tim1"

[2] set the period(ms) of this timer such as 10ms

[3] define a on timer callback "OnTim1" in "On Timer" group and associate the
callback with this timer

[4] start the timer using "tim1.start();"

[5] now in callback "OnTim1", your code of this function will be executed every
10ms

Timer

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1e9ab4977b1df4c0582f6f426d54afc6.png)

When you double click on a timer, you will see a popup showing the properties of
the current selected timer. You can modify the name, and interval in
milliseconds.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b08bc0117961eb1423053ba73da6adad.png)

Fig 116 Timer defintion

On CAN Receive Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3c484d3bb5371f52413f61b2f9f1e4e1.png)

CAN receive event group contains every CAN / CAN FD reception callback you
defined. To use a reception callback, you should for example:

[1] define a callback named "OnRx123" with an identifier "0x123", this means
message with id = 0x123 will fire this event

If you want to trigger ANY Rx frame, just leave the identifier text box blank

[2] you will get parameter "ACAN" in this event to operate with

Such as: ACAN-\>FData[0] to access the first data byte of this received message

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TCAN"

On CAN Receive Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/13fc17d8b33abab191a3975984e87350.png)

When you double click on the event, you will see a popup showing the properties
of this event. You can modify the name, identifier of this event. Switch on or
off “CAN FD Message” will change the event type to be “CAN FD” event or
“Classical CAN” event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6b9173c2d3933382bd9ff4593c8f8391.png)

Fig 117 On CAN Rx Event

When a database is assigned, you can pick any CAN message from the database by
clicking “…” button on the right side of the “Id” input box.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cc86d8da50f2a4933c2f0c75886f9555.png)

Fig 118 CAN message selector for On Rx event

After the message is selected, you can see the information is automatically
inserted into the input box:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/19a0058168aff77627fa6244446e54ea.png)

Fig 119 CAN message information automatically inserted

After you click “Apply” or press enter key, you can see the information is
recognized by the script editor:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7483bff06f9b4c4f9c216b740d82faa8.png)

Fig 120 On message information recognized by the editor

On CAN FD Receive Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/02c56df1de7f850616cf4193940787ec.png)

When you double click on the event, you will see a popup showing the properties
of this event. You can modify the name, identifier of this event. Switch on or
off “CAN FD Message” will change the event type to be “CAN FD” event or
“Classical CAN” event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2d3fb588e29080e55eba5b4a7cae9d07.png)

Fig 121 On CAN FD Rx Event

On CAN Transmit Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1b371df2b09f0e5f794d37dac58eab6e.png)

CAN transmit event group contains every CAN / CAN FD transmit callback you
defined.

Note: only transmitted frame (ACKed by other node) fires transmit callback.
TOSUN, Vector and IntrepidCS hardware have ability to get correct timestamp of
transmitted frame

To use a transmit callback, you should for example:

[1] define a callback named "OnRx123" with an identifier "0x123", this means
message with id = 0x123 will fire this event

If you want to trigger ANY Tx frame, just leave the identifier text box blank

[2] you will get parameter "ACAN" in this event to operate with

Such as: ACAN-\>FData[0] to access the first data byte of this received message

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TCAN"

On CAN Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f03771b94e24fd1caac1009af550d777.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c7b49e9e11adeb90187b2c0c420cfc9d.png)

Fig 122 On CAN Transmit event

On CAN FD Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ba6cd05ac1b3e48f187100706dabb5a2.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c97ca11d731887fef47b339996918138.png)

Fig 123 On CAN FD Transmit event

On CAN Pre-Transmit Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a7b7c33effb2952065da5938ec3eec4c.png)

CAN pre-Tx event group contains every CAN pre-Tx callback you defined.

Note: This feature is introduced by TOSUN for users to interact with \>\>\> EACH
\<\<\< frame being transmitted

This is really useful when you want to modify frame content, or frame type
before this frame is sent

Use this feature with care

To use a pre-Tx callback, you should for example:

[1] define a callback named "OnPreTx123" with an identifier "0x123", this means
message with id = 0x123 will fire this event

If you want to trigger ANY pre-Tx frame, just leave the identifier text box
blank

[2] you will get parameter "ACAN" in this event to operate with

Such as: ACAN-\>FData[0] to access the first data byte of this received message

If you want to force the first byte to 0, write this code: "ACAN-\>FData[0] =
0;"

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TCAN"

Please also refer to the example “Checksum And Rolling Counter” to maximize the
ability of “Pre-Tx” event:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/76bd71cf59e418e4047a9b277e922dec.png)

Fig 124 Checksum and Rolling Counter example based on Pre-Tx event

On CAN Pre-Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7918937c4dd1d8c3ed4671a261818010.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/066fa5e75c6080a527eccac3e1f3d7ff.png)

Fig 125 On CAN Pre-Transmit event

On CAN FD Pre-Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/05103163ce1f3f1267235980016e0b31.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6a94da608ef8d296a844e91d28da0d2d.png)

Fig 126 On CAN FD Pre-Transmit event

On LIN Receive Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4978d441fab74518801c5966131185bb.png)

LIN receive event group contains every LIN reception callback you defined. To
use a reception callback, you should for example:

[1] define a callback named "OnRx12" with an identifier "0x12", this means
message with id = 0x12 will fire this event

If you want to trigger ANY Rx frame, just leave the identifier text box blank

[2] you will get parameter "ALIN" in this event to operate with

Such as: ALIN-\>FData[0] to access the first data byte of this received message

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TLIN"

On LIN Receive Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/eddfde4ecb403b541aec26f4d1db982f.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/240f1056ad7db19e472c59bb4ba22854.png)

Fig 127 On LIN Receive Event

On LIN Transmit Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/14817179d8420d4f7da850ff8c79170b.png)

LIN transmit event group contains every LIN transmit callback you defined.

Note: only transmitted frame fires transmit callback

TOSUN, Vector and IntrepidCS hardware have ability to get correct timestamp of
transmitted frame

To use a transmit callback, you should for example:

[1] define a callback named "OnRx12" with an identifier "0x12", this means
message with id = 0x12 will fire this event

If you want to trigger ANY Tx frame, just leave the identifier text box blank

[2] you will get parameter "ALIN" in this event to operate with

Such as: ALIN-\>FData[0] to access the first data byte of this received message

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TLIN".

On LIN Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c59aac9f1c33f4e630c540c75630bb1a.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7b2e039a54e87debac3faf01821fb0dc.png)

Fig 128 On LIN Receive Event

On LIN Pre-Transmit Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/362b235345a8b884b36b05ccbee06084.png)

LIN pre-Tx event group contains every LIN pre-Tx callback you defined.

Note: This feature is introduced by TOSUN for users to interact with \>\>\> EACH
\<\<\< frame being transmitted

This is really useful when you want to modify frame content, or frame type
before this frame is sent

Use this feature with care

To use pre-Tx callback, you should for example:

[1] define a callback named "OnPreTx12" with an identifier "0x12", this means
message with id = 0x12 will fire this event

If you want to trigger ANY pre-Tx frame, just leave the identifier text box
blank

[2] you will get parameter "ALIN" in this event to operate with

Such as: ALIN-\>FData[0] to access the first data byte of this received message

If you want to force the first byte to 0, write this code: "ALIN-\>FData[0] =
0;"

Please see "TSMaster Header" section on the left tree to find out data type and
elements of "TLIN"

On LIN Pre-Transmit Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/dff12cc59191c7d0328129a99827b903.png)

When you double click on the event, you may see the properties popup showing,
which is similar to “On CAN Receive Event”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/baa6e596f2b32f421976b1b34c1fc9dd.png)

Fig 129 On LIN Pre-Transmit Event

On Var Change Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7ea1aedfbb6080adc80f2d2dfeff7b09.png)

On Var Change group contains every global variable event you defined.

For example a variable named "v1" is changed using "v1.set()" method,

it will immediately trigger its associated on change event

To use on var change callback, you should for example:

[1] define a variable named "v1" in "Variables" section on the left tree

[2] define a "on var change" event in this section

[3] associate its "Variable" property with "v1" in the drop down list

[4] write your code in this event to deal with event of "v1" change

On Var Change Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1e604e9a675fcf3d6df131e090f83156.png)

When you double click on the event handler of variable change, you can see a
popup showing the properties of this event, you can assign the variable when
this event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6611b442756adbbcde96ecf0c40f1b70.png)

Fig 130 On Var Change Event

On Timer Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/396e687b5e95af613bad5eb51c309907.png)

On Timer group contains every timer event you defined. To use timer event, you
should for example:

[1] define a timer in group "Timers" such as "tim1"

[2] set the period(ms) of this timer such as 10ms

[3] define a on timer callback "OnTim1" in this group and associate the callback
with this timer

[4] start the timer using "tim1.start();"

[5] now in callback "OnTim1", your code of this function will be executed every
10ms

On Timer Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7dbe65b27068e3f33a370d60945b2b8d.png)

When you double click on a timer event, you can see a popup dialog showing the
properties of this event. You can assign a timer to this event. So when the
timer overflows, this event will be triggered.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4fc194a7f3d95d7996477cc9785c679b.png)

Fig 131 On Timer Event

On Start Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ec7dca2a4455c02b5bcda7f04e9297ab.png)

On Starts group contains every on start event you defined.

If you define more than one on start event, each event will be executed one by
one when this script starts.

Note: No timer, receive or transmit events will be triggered in on start
callback.

If you want to perform automated test with event support, move your test logic
into step function.

On Start Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d070aa0c2e2a229c18a3feb1c552e5c6.png)

When you double click on the event, you can see a popup dialog showing the
properties of this event. You can modify the name of this event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/073d3b2e6900ba7f683deca4417c049e.png)

Fig 132 On Start Event

On Stop Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1564b68aca699740ec0c5a1489def4ab.png)

On Stops group contains every on stop event you defined.

If you define more than one on stop event, each event will be executed one by
one when this script stops.

Note: No timer, receive or transmit events will be triggered in on stop
callback.

On Stop Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/705be980b61e5718e59860f4319bc030.png)

When you double click on the event, you can see a popup dialog showing the
properties of this event. You can modify the name of this event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9b78b97c9795380f9c2e44ebad4ac5cb.png)

Fig 133 On Stop Event

On Shortcut Event Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/159ce7f15d4c418cb1eef9a5d179f195.png)

On shortcuts group contains every shortcut associated event you defined.

To use on shortcut event, you should for example:

[1] define an on shortcut event named "OnKeyA" if you want to use keyboard A key
to trigger

[2] In shortcut field, just press "A" key of your keyboard, so key A is
associated with this event

[3] Write your code in this event content, so the code will be executed when
this mini program starts and key A is pressed

On Shortcut Event

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/69327e4f8020188cbd1597f7852ef891.png)

When you double click on the event, you can see a popup dialog showing the
properties of this event. You can modify the name and associated shortcut of
this event.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b020239c8fb94bd16c4861847368e901.png)

Fig 134 On Shortcut Event

Please refer to TSMaster example “Shortcuts.T7z” for detailed usage of shortcut
events.

Custom Functions Group

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6cbf4e8347db683f353926159be5b571.png)

Custom Functions group contains every function you defined.

To use custom funtions, you should for example:

[1] define a custom function in this group and name it "func1"

[2] specify its parameters such as "const s32 A, const s32 B" if you want two
parameters

[3] write algorithm in this function such as "return A + B;"

[4] in other place of this mini program, just call "r = func1(3, 5);" which will
get result of 3 + 5 into variable r

Note: you can publish your custom function as mini program library to be invoked
by other mini programs.

Custom Function

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a1882c77cc949e7c608500fbfa561650.png)

When you double click on the function, you can edit the name, and the parameters
of this function.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c2dd3bb45e77f32853baf9fd9c805098.png)

Fig 135 Custom Function

Please refer to TSMaster example “Checksum And Rolling Counter.T7z” for detailed
usage of custom function, in this example, a CRC-8 checksum algorithm is
implemented in custom function.

1.  Application Window Host

TS application window host enables external application to be hosted in TSMaster
window. External application can be any type of program with main form for user
interaction. It is very useful for user to manage multiple applications just
within TSMaster user interface.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/acb296a21a7c6a72286078fa24045462.png)

Fig 136 Application window host

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/84899d5bc69a1ae77909b0e26e9f1766.png) Start external application in
current form

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/420e4ae9528f1c53d4ee32fd4a8e24db.png) Stop external application

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/58c2d47320603ce2b847890b89b1d493.png) Restart external application

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c8e08af2d3681ae449665b812705dd5f.png) Application configuration, which
contains the following items:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9a5be7b57e6c24babb3f665ea2735e36.png)

Fig 137 Application settings

App Path: Specify full path of external application.

Delay Time (ms): Delay a certain time (ms) before the external application is
hosted into current form.

Usage example steps for Carla integration:

[1] Find Carla application full path, fill it into “App Path”

[2] Set a certain delay time before this application is hosted, if application
takes longer to start, set this value larger. In this example, the delay time is
5s

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d419adcbf226f90d57e6b1e5bd45f369.png)

Fig 138 Carla Integration

[3] Click start button ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/84899d5bc69a1ae77909b0e26e9f1766.png) to run
external application: Carla

[4] You will see Carla application is hosted into this form

[5] Click stop button ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/420e4ae9528f1c53d4ee32fd4a8e24db.png) to
terminate Carla application.

[6] You can set “Auto-start” of this window so that Carla is automatically
created when application is connected, and automatically destroyed when
application is disconnected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/10bac7fc26bb5b4edf8588d698ad15f1.png)

Fig 139 Auto start and stop Carla

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/60ece936e5527a0e7c5a45afe1151f0a.png)

Fig 140 Carla Integration Result

1.  Panel

TSMaster panel allows users to create their own application interface to send
messages, receive messages, signals and doing various operations based on
TSMaster’s sophisticated control architecture.

Please refer to TSMaster example “Panel Basics.T7z” to understand the abilities
of TSMaster panel component.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/397b17dd00302c96e31e983a9d909bd8.png)

Fig 141 TSMaster Panel Interface

1.  Panel Toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea3d589b79981a32eb16d83f3781d363.png) Edit mode selector, this
selector controls the visibility of TSMaster internal panel editor. It has the
following three states:

1.  ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea3d589b79981a32eb16d83f3781d363.png) Pressed state: means the
    panel is now in editor mode, you can modify the controls on panel freely.

2.  ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cc11f26c6860c61eeabcb3f9e82a5c9e.png) Unpressed state: means the
    panel is now in test mode, this mode shows how the panel will look like when
    application is started, you can view the panel control layout and make
    adjustment to its internal controls by click on this button again to
    activate edit mode.

3.  ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f4a42f98af51b393a5460547106c03f7.png) Disabled mode: means the
    TSMaster application is connected, the panel is now in running mode, no
    editor features available. If you want to edit the panel again, please first
    disconnect application.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c2fa7fd4e1bf205b9ee6b8a2fbd92c23.png) Basic Copy, Paste, Cut and
Delete function of panel controls, Note: you must first select one or multiple
panel controls before performing these operations.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3364148058dd138321eed6567b8e3299.png) Bring to front, and Send to back
function of panel controls.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7a617dcd06082abcf272569c84d08d45.png) Alignment adjustment of panel
controls, which has the following sub items for multiple selected items:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/53048696a939fb8688b66f863668531b.png)

Fig 142 Alignment of panel controls

-   Align Left: move all selected controls to left align

-   Align Right: move all selected controls to right align

-   Align Top: move all selected controls to top align

-   Align Bottom: move all selected controls to bottom align

-   Center Horizontally: move all selected controls to the same Y coordinates

-   Center Vertically: move all selected controls to the same X coordinates

-   Distribute Horizontally: move all selected controls so each has the same X
    gap with its nearest sibling

-   Distribute Vertically: move all selected controls so each has the same Y gap
    with its nearest sibling

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fc63e1960b5630e1da1f76fb753ac823.png) Create a new panel, this will
delete all the controls on the current panel

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/23475787f61c464bc1859b5cf5ec9009.png) Import a panel from external
panel files, this will delete all the controls on the current panel

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/41b43e17af97d7ba2923f18db9684329.png) Export the current panel to
external files

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c012ed82b713c9a4925c10474b2858e8.png) Panel settings, which has the
following sub menus:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/57657197fa1fe6fca9c24d87151a7cd1.png)

Fig 143 Panel settings sub menu

Panel Layout Settings

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2a46482208a287d7060b97d16ba98362.png)

Fig 144 Panel layout settings

**Normal**: all panel controls will be displayed as is:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d1af277690313c0c0898be982d7eda06.png)

Fig 145 Normal panel layout settings

**Stretch**: all panel controls will be stretched to fill the display area:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3cb28d266e8a101f24438fa2f0d50dc0.png)

Fig 146 Stretch panel layout settings

**Fit**: all panel controls will be adjusted to fit the display area, while
keeping their x and y ratio fixed:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/beb5c54f1044aef5a27d8c4052828924.png)

Fig 147 Fit panel layout settings

Panel Design Time Settings

Panel design time settings supports displaying panel variable link on bottom of
each control:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f1ee65c0c0edff28d56e21f48df584d9.png)

Fig 148 Panel design time settings

If this option is switched on, you will see a complete variable database address
text displayed on bottom:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/23aaf8fabc0b85c57e7bc764f71a7a97.png)

Fig 149 Panel variable address display

1.  Panel Controls

Please see the following picture demonstrating each TSMaster panel control:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/165f6598980b5ee6d5a544c20ff6a339.png)

Fig 150 TSMaster panel control overview

Panel Common Properties

This section describes all common properties of panel controls:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2c6dc47a703d6f0050440d2f31df3b3f.png)

Fig 151 TSMaster Panel control common properties

Align

Align controls docking feature of each panel control, the type of which is
picked from the following list:

| Value      | Meaning                                                                                                                                                                                                                                                                                                                                                                     |
|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Bottom     | The control moves and pins to the bottom of its parent and resizes to fill the width of its parent. The height of the control is not affected. If another most side-pinned control already occupies part of the parent area, the control resizes to fill the remaining width of its parent. The anchors are set to [akLeft,akBottom,akRight].                               |
| Center     | The control moves to the center of the parent area. The control's size is not affected. If another side-pinned control already occupies part of the parent area, the control moves to the center of the remaining parent area. The control is not anchored to its parent.                                                                                                   |
| Client     | The control resizes to fill the client area of its parent. If another side-pinned control already occupies part of the parent area, the control resizes to fit within the remaining parent area. The anchors are set to [akLeft,akTop,akRight,akBottom]                                                                                                                     |
| Contents   | The control resizes to fill the entire bounds of its parent, overlapping it. The anchors are set to [akLeft,akTop,akRight,akBottom].                                                                                                                                                                                                                                        |
| Fit        | The control resizes to fit the parent area, preserving its aspect ratio. The control moves to the center of the parent area. The anchors are set to [akLeft,akTop,akRight,akBottom].                                                                                                                                                                                        |
| FitLeft    | The control resizes to fit the parent area, preserving its aspect ratio. The control moves to and pins to the left side of the parent. The anchors are set to [akLeft,akTop,akRight,akBottom].                                                                                                                                                                              |
| FitRight   | The control resizes to fit the parent area, preserving its aspect ratio. The control moves to and pins to the right side of the parent. The anchors are set to [akLeft,akTop,akRight,akBottom].                                                                                                                                                                             |
| Horizontal | The control resizes to fill the height of its parent. The width of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akLeft,akRight].                                                                                           |
| HorzCenter | The control is centered horizontally within the client area of the parent and resizes to fill the height of its parent. The width of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akTop,akBottom].                         |
| Left       | The control moves and pins to the left side of its parent and resizes to fill the height of its parent. The width of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akLeft,akTop,akBottom].                                  |
| MostBottom | The control moves and pins to the bottom of its parent, set to be the bottommost, and resizes to fill the width of its parent. The height of the control is not affected. The anchors are set to [akLeft,akRight,akBottom].                                                                                                                                                 |
| MostLeft   | The control moves and pins to the left side of its parent, set to be the leftmost, and resizes to fill the height of its parent. The width of the control is not affected. If another most side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akLeft,akTop,akBottom].    |
| MostRight  | The control moves and pins to the right side of its parent, set to be the rightmost, and resizes to fill the height of its parent. The width of the control is not affected. If another most side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akTop,akRight,akBottom]. |
| MostTop    | The control moves and pins to the top of its parent, set to be the topmost, and resizes to fill the width of its parent. The height of the control is not affected. The anchors are set to [akLeft,akTop,akRight].                                                                                                                                                          |
| None       | The control remains where it was placed. This is the default value. No automatic positioning and sizing are performed. The anchors are set to [akLeft,akTop].                                                                                                                                                                                                               |
| Right      | The control moves and pins to the right side of its parent and resizes to fill the height of its parent. The width of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining height of its parent. The anchors are set to [akRight,akTop,akBottom].                                |
| Scale      | The control resizes and moves to maintain the relative position and size as its container resizes. The anchors are set to [akLeft,akTop,akRight,akBottom].                                                                                                                                                                                                                  |
| Top        | The control moves and pins to the top of its parent and resizes to fill the width of its parent. The height of the control is not affected. If another most side-pinned control already occupies part of the parent area, the control resizes to fill the remaining width of its parent. The anchors are set to [akLeft,akTop,akRight].                                     |
| VertCenter | The control is centered vertically within the client area of the parent and resizes to fill the width of its parent. The height of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining width of its parent. The anchors are set to [akLeft,akRight].                            |
| Vertical   | The control resizes to fill the width of its parent. The height of the control is not affected. If another side-pinned control already occupies part of the parent area, the control resizes to fill the remaining width of its parent. The anchors are set to [akTop,akRight].                                                                                             |

Enabled

Controls whether the control responds to mouse, keyboard, and timer events.

Use Enabled to change the availability of the control to the user. To disable a
control, set Enabled to False. Some disabled controls appear dimmed (for
example: buttons, check boxes, labels), while others (container controls) simply
lose their functionality without changing their appearance. If Enabled is set to
False, the control ignores mouse, keyboard, and timer events.

To re-enable a control, set Enabled to True.

Height

Specifies the vertical size of the control (in pixels).

Use the Height property to read or change the height of the control.

Margins

Specifies the control's margins.

The Margins of a control are the distances (in pixels) from each edge (top,
left, bottom, right) to another control within the same Parent or to the edge of
its Parent. Margins adds space to the outer side of the control.

If a margin is not 0, no other control will come closer to the control than the
specified distance. If the distance from a Parent edge to the corresponding
control edge is smaller than the specified Margins for that edge, the control is
repositioned and resized, if necessary, to maintain the specified distance.

The following image shows how Padding and Margins properties affect alignment,
position, and size of controls.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c3b1460503b40b37f6d2f573c6b5b5ee.png)

Fig 152 Margins description

Opacity

Specifies the control opacity.

Set Opacity to customize the transparency of the current control.

Opacity takes values between 0 and 1. If Opacity is 1, the control is completely
opaque; if it is 0, the control is completely transparent. The values over 1 are
treated as 1, and the ones under 0 are treated as 0.

Opacity applies to the control's children.

Padding

Specifies the control's padding.

The Padding of a control specifies how close, in pixels, the control's children
can come to each of its edges (top, left, bottom, right). Padding adds space to
the inner side of the control.

The control's children are repositioned and resized, if necessary, to maintain
the Padding.

The above image in “Margins” section shows how Padding and Margins properties
affect alignment, position, and size of controls.

Position

Specifies the upper-left corner of the current control, relative to its parent.

Position can be affected by the Padding of its parent and the Margins of the
control.

ReadOnly

Determines whether you can change the text of this edit control.

To prevent the contents of the edit control from being edited, set the ReadOnly
property to True. Set ReadOnly to False to allow the contents of the edit
control to be edited.

Setting ReadOnly to True ensures that the text is not altered, while still
allowing you to select text. The selected text can then be manipulated by the
application, or copied to the Clipboard.

RotationAngle

Specifies the amount (in degrees) by which the control is rotated from the
x-axis.

Positive angles correspond to clockwise rotation. For counterclockwise rotation,
use negative values.

To set the rotation center, use RotationCenter as described below.

RotationCenter

Specifies the position of the pivot point of the control.

The coordinates of the rotation center take values in the range from 0 through
1\. The point with the coordinates (0,0) corresponds to the upper-left corner of
the control, the point with the coordinates (1,1) corresponds to the lower-right
corner of the control. The default center of rotation is (0.5, 0.5).

Values outside of [0,0] and [1,1] can be clipped in some descendant classes.

To set the rotation angle, use RotationAngle as described above.

Scale

Specifies the scale of the control.

Set the Scale coordinates to specify the scale on each axis.

The initial scale rate is 1 on each axis.

Note: Controls that have the Align or Anchors properties set can use a scale
that is different from the default (1,1), so that controls align together even
when they have a custom scale.

VarLink

The associated variable in TSMaster, which can be:

-   CAN signal

-   LIN signal

-   System Variable

Normally you can double click on a control to change its associated variable, or
just click the “…” button on the right side of property editor:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fdc032fa4658655d042b630e14dd401d.png)

Fig 153 VarLink Editor

If your current control is associated with a CAN signal, then the popup dialog
will prompt you to select a CAN signal from database:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ddd5ca449fba45edb047b179012e0669.png)

Fig 154 CAN signal selector

If your current control is associated with a LIN signal, then the popup dialog
will prompt you to select a LIN signal from database:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0cd10029609c47090b3b5d7a547a3f88.png)

Fig 155 LIN signal selector

If your current control is associated with a system variable, then the popup
dialog will prompt you to select a system variable from the system variable
manager:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/39921b7a2a0ace02b879edf4366ae98d.png)

Fig 156 System variable selector

Note: Some controls do not support associating with variables, such as groupbox,
start-stop button and so on. In this case, the VarLink is not available.

Note: Default VarLink type is set to “None”, that is nothing is associated with
the current control. If you want to assign this control with either CAN, LIN or
system variable, please first modify the “VarType” property below.

VarType

Variable type of the current associated signal, which can be:

-   None

-   CAN signal

-   LIN signal

-   System variable

The default variable type of each control is “None”, you can switch type among
the above types, by selecting the down arrow, or just double click the editor.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bc88c3a828ba6936c5e5807c652ba8bb.png)

Fig 157 Switch signal type

Width

Specifies the horizontal size of the control (in pixels).

Use the Width property to read or change the width of the control.

TextSettings

Some text controls have this property, which provide all styled text
representation properties and methods to manage them.

The styled text representation properties are FontColor, TextAlign,
VertTextAlign, Trimming, WordWrap, and Font (TFont.Family, TFont.Size, and
TFont.Style).

-   **FontColor**

    Specifies the font color of the text in this TTextControl control.

Use the FontColor property to read or change the font color of the text in this
TTextControl control. The default value of the FontColor property is
TAlphaColorRec.Black.

-   **TextAlign**

Specifies how the text will be displayed in terms of horizontal alignment.

The TextAlign property specifies how the TTextControl object will display the
text in terms of horizontal alignment. TextAlign can have one of the following
values (defined in TTextAlign):

Center (default)--aligns the text on a horizontal axis, at the middle of the
TTextControl object.

Leading--aligns the text on a horizontal axis, at the leftmost position inside
the TTextControl object.

Trailing--aligns the text on a horizontal axis, at the rightmost position inside
the TTextControl object.

-   **VertTextAlign**

Specifies how the text will be displayed in terms of vertical alignment.

The VertTextAlign property specifies how the TTextControl control displays the
text in terms of vertical alignment. VertTextAlign can have one of the following
values (defined in TTextAlign):

Center (default)--aligns the text on a vertical axis, at the middle of the
TTextControl object.

Leading--aligns the text on a vertical axis, at the topmost position inside the
TTextControl object.

Trailing--aligns the text on a vertical axis, at the bottommost position inside
the TTextControl object.

-   **Trimming**

Specifies the behavior of the text, when it overflows the area for drawing the
text.

Trimming may take the following values defined in the TTextTrimming type: None,
Character, and Word.

If the value of this property is not None and the text does not fit in the
drawing area, then it is trimmed to fit the area and an ellipsis sign is printed
after the trimmed text.

-   **WordWrap**

Specifies whether the text inside the TTextControl object wraps when it is
longer than the width of the control.

Set WordWrap to True to allow the TTextControl control to display multiple lines
of text. When WordWrap is True, text that is too long for the TTextControl
object wraps at the right margin and continues in additional lines.

Set WordWrap to False for the text to span onto a single line of the
TTextControl. However, in this case, the text that is too long for TTextControl
appears truncated.

The default value for the WordWrap property is False.

-   **Font.Family**

Identifies the typeface of the font.

Use Family to specify the typeface of the font.

-   **Font.Size**

The height of the font in points.

Use Size to specify the size of text. The size includes the ascent, above the
baseline and the descent, below the baseline.

For example, suppose the font's Size is 24. On Windows, 24 DIPs is 24/96 or 1/4
inches tall. 1/4-inch on a screen at 96 DPI is 24 pixels.

Text sized in points on Windows will appear larger at the same numeric value.
For example, 24 points at 96 DPI is 32 pixels tall.

-   **Font.Style**

Determines whether the font is normal, italic, underlined, and so on.

Use Style to add special characteristics to characters that use the font. Style
is a set containing zero or more values from the following:

Table 3 Font style

| Value       | Meaning                                                  |
|-------------|----------------------------------------------------------|
| fsBold      | The font is bold.                                        |
| fsItalic    | The font is italic.                                      |
| fsUnderline | The font is underlined.                                  |
| fsStrikeOut | The font is displayed with a horizontal line through it. |

Text

A text is used to display static text, or a signal real-time value (CAN, LIN,
system variable). Text control has various properties, by modifying its
properties, you can get sophisticated display effects as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e182ac43d1a36a6115b91ff616516e6f.png)

Fig 158 Text control

Apart from the common properties described above, a text control has additional
6 properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3fd7eef0b525881618fe761ca0d5b83b.png)

Fig 159 Text additional properties

**BkgdColor**: the background color of a text. If the text is set to
“Transparent”, this property does not have any effect.

**Border Active**: True: the border of the text is visible; False: the border of
the text is invisible.

**Text**: the static text display for the end user. If “VarType” of the text is
set to any signal besides “None”, the text control will display the signal
value, and this text property does not have any effect.

**TextColor**: the color of the text.

**TextSettings**: Keeps the values of styled text representation properties that
are set in the Object Inspector or programmatically.

TextSettings references a TTextSettings type object that handles values of
styled text representation properties that are set in the Object Inspector or
programmatically. TextSettings references a TTextSettings type object, which
handles styled text representation properties to be used for drawing texts in
this control.

TTextSettings type objects provide all styled text representation properties and
methods to manage them.

The styled text representation properties are FontColor, TextAlign,
VertTextAlign, Trimming, WordWrap, and Font (TFont.Family, TFont.Size, and
TFont.Style).

Please refer to “TextSettings” section above to view detailed description.

Image

Image control displays static images for the end user. The most popular image
types (png, jpg, bmp, gif, tif, tiff, ico) are all supported by the image
control:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a7ca7aa7c1b5bf98d0028f45b393b1ae.png)

Fig 160 Image types supported

To change an image, just double click on the image control, you will see a
picture selector popup dialog appears, from which you can load, save pictures to
the image control:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/90e569d02bbedac040e951cb76ba688d.png)

Fig 161 Picture selector

The image control has two additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/30b5430458b891454588e789a364e029.png)

Fig 162 Image properties

-   **Picture**

You can change the static image display by double-clicking the image, or by
clicking the “…” button on the right side of this property.

-   **WrapMode**

Specifies whether and how to resize, replicate, and position the bitmap image
for rendering the TImage surface.

The WrapMode property should be one of the constants defined in the
TImageWrapMode type:

**Original** displays the image with its original dimensions.

**Fit** provides the best fit, keeping image proportions (the ratio between the
width and height) for the TImage rectangle. If needed, the image is scaled down
or stretched to best fit the rectangle area. This is the default option.

**Stretch** stretches the image to fill the entire rectangle of the TImage
component.

**Tile** tiles the TImage image to cover the entire rectangle of the TImage
component.

**Center** centers the image to the rectangle of the TImage component. The image
is never resized, regardless the size of the rectangle of the TImage component.

**Place** fits the image into the TImage rectangle. If the width or height of
the image is greater than the corresponding dimension of the TImage rectangle,
then the image is scaled down keeping image proportions (the ratio between the
width and height) to fit in the TImage rectangle. The obtained image is centered
in the TImage rectangle. Place only makes images smaller, never larger.

Group Box

Represents a graphical control used to arrange multiple related graphical
controls on the surface of a form.

Use GroupBox whenever you need to arrange multiple related controls on a form
(for instance, multiple radio buttons or check boxes). The most commonly grouped
controls are radio buttons. After placing a group box on a FireMonkey form,
select components from the Toolbox and place them in the group box. The Text
property contains text that labels the group box at run time.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/41b372a068cfee2bc73cff16792b7ff3.png)

Fig 163 Group Box for grouped dislay of controls

Group box has two additional properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/554e944c317ede25f377945c808af2cd.png)

Fig 164 Group Box properties

-   **Color**

The text color of group box.

-   **Text**

The text display of group box.

Panel

Represents a generic general-purpose panel used to hold multiple controls for
organizing purposes.

Use TPanel components when you need to provide the user with a way of placing
multiple graphical components on a surface for organizing purposes.

Panels have methods to help manage the placement of child controls embedded in
the panel. You can also use panels to group controls together, similarly to the
way you can use a group box. Panels are typically used for groups of controls
within a single form. Panels with no borders are useful as docking sites when
writing applications that use drag-and-dock.

Panel has 12 additional properties compared with common properties of a standard
control:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8ba0a9383dc2d667b9633fa3218925ac.png)

Fig 165 Panel additional properties

1.  **ColorFill**: Determines the color used to fill the shape background.

2.  **ColorStroke**: Determines the color of the drawing pen used to draw lines
    and shape contours of the graphical primitives.

3.  **Corners**: Specifies shapes of which corners in the TRectangle rectangle
    object are customized according to the CornerType, XRadius, and YRadius
    properties.

    By default, all four corners are customized.

    Corners can contain a set of constants defined in the TCorner type: TopLeft,
    TopRight, BottomLeft, and BottomRight. Use the AllCorners constant to select
    all corners.

    If Corners is an empty set or any of the XRadius and YRadius properties is
    zero, then no corner shape customization is used.

4.  **CornerType**: Specifies the type of the corner shape's customization in
    the rectangle.

    Values of CornerType are defined in TCornerType. These Round, Bevel,
    InnerRound, and InnerLine values define the following types of corner shape
    customizations:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5ddf1dc4e302f5b933b425d763fdbc83.png)

Fig 166 CornerType defintion

>   CornerType applies to corners specified in the Corners set.

>   XRadius and YRadius specify the distance from a corner to the start point of
>   the corner shape customization, on the horizontal and vertical sides.

>   Note: If Corners is an empty set or any of the XRadius and YRadius
>   properties is zero, then no corner shape customization is used.

1.  **FillActive**: Whether the current panel has fill property, if set to
    false, all properties related to fill have no effects.

2.  **StrokeActive**: Whether the current panel has stroke property, if set to
    false, all properties related to stroke have no effects.

3.  **StrokeDash**: Specifies the dash-dot style of lines or of contours.

    A shape contour or a line can contain several segments (dash-dot groups)
    with different lengths and spaces between segments.

    The possible values of Dash are Solid, Dash, Dot, DashDot, DashDotDot, and
    Custom defined in the TStrokeDash type.

    The default is Solid--a single solid line.

    Notice that if Dash is not Solid, Cap affects the ends of each line segment
    of the contour.

4.  **StrokeThickness**: Specifies the width, in pixels, of the stroke outline
    to draw a line or a contour.

5.  **xRadius**: Specifies the distance from a corner to the start point of the
    corner shape customization, on the horizontal sides of TRectangle.

    During design time, the maximum possible value of XRadius is limited by the
    half of the smallest side.

    If XRadius=0, then no corner shape customization is used.

6.  **yRadius**: Specifies the distance from a corner to the start point of the
    corner shape customization, on the vertical sides of TRectangle.

    During design time, the maximum possible value of YRadius is limited by the
    half of the smallest side.

    If YRadius=0, then no corner shape customization is used.

Path Button

Path button is a push or checked button display complex images using vector
graphic technology. You can pick a shape for a path button, and assign signals
to it.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fdff86c1a70c851b0cd9902ede1aa46a.png)

Fig 167 Path button

A path button also displays the state of the current signal. For example, we set
the button’s “ValueChecked” is 3, and “ValueUnchecked” is 2. Then the following
behavior will be monitored:

-   Associated signal is 3: the button will be displayed “Checked”

-   Associated signal is 2: the button will be displayed “Unchecked”

-   Associated signal is 1, or other value except 2 or 3: the button will be
    displayed “Unchecked”

A path button has additional 8 properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0378ced5be3ee2a9b38a466584f1a216.png)

Fig 168 Path button properties

1.  **Button Shape**

The button shape is the data of its path, which represents a series of connected
curves and lines. You can use the internal path selector to build the shape of
the button, by clicking on the “…” button on the right side of the property.

There are in total 867 different paths in the list for you to choose from. If
these shapes are not enough, you can add your own paths by clicking on the
”Generate from Font…” button, to generate more paths from external font files:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a4fe9009d5bbda416bba0715e4068d0b.png)

Fig 169 Pick a path and select OK

Normally you can find more shapes in “Wingdings” or “Webdings” because they
contain graphical symbols more than other font files:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1b9a0fdc2f50590e5e3d5edefc2d5755.png)

Fig 170 Recommended font files for generating paths

After selecting proper font files, you can get more paths to select from:  
![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/07cf7d89d13c7dd043beb8eb92bee853.png)

Fig 171 External paths from font files

1.  **Button Type**

A button type can be “Push button” or “Check button”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e8cbf43341b7a0afc7b18086fc936994.png)

Fig 172 Path Button type

**Push Button**: This button type has only one stable state “Unpushed State”. If
you push this button down, it will enter “Pushed State”, and the signal
associated with it will be changed to “ValueChecked”, but after you release your
mouse, this button will revert back to “Unpushed State”, and the signal will be
changed back to “ValueUnchecked”.

**Check Button**: This button type has two stable state “Unpushed State” and
“Pushed State”. If you push this button, it will enter “Pushed State” and remain
in this state even if you release your mouse. And if you push it again, it will
switch back to “Unpushed State” and remain in this state.

1.  **ColorChecked**

The path button will change its fill color to this color when the button is in
“Pushed State”. Please use the color selector to assign a color to it:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/305eb35a7bf521063faa013518dafa6c.png)

Fig 173 Color Selector

1.  **ColorStroke**

Determines the color of the drawing pen used to draw lines and shape contours of
the graphical primitives.

1.  **ColorUnchecked**

The path button will change its fill color to this color when the button is in
“Unpushed State”. Please use the color selector to assign a color to it.

1.  **StrokeActive**

Whether the current button has stroke property, if set to false, all properties
related to stroke have no effects

1.  **ValueChecked**

If the button is in “Pushed State”, its related signal will be changed to this
value.

1.  **ValueUnchecked**

If the button is in “Unpushed State”, its related signal will be changed to this
value.

Check Box

A check box is a value selector, which can be either ON(selected) or
OFF(cleared).

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6b0fc15c76a3f25dda6f80df055f3f21.png)

Fig 174 Check Box

A check box also displays the state of the current signal. For example, we set
the check box’s “ValueChecked” is 3, and “ValueUnchecked” is 2. Then the
following behavior will be observed:

-   Associated signal is 3: the check box will be automatically checked

-   Associated signal is 2: the check box will be automatically unchecked

-   Associated signal is 1, or other value except 2 or 3: the check box will be
    automatically unchecked

A check box has 4 additional properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b3979a2da3174d487b90ebff6b4cd140.png)

Fig 175 Check box additional properties

1.  **Color**

The text color of check box can be set here.

1.  **Text**

The displayed text on the check box.

1.  **ValueChecked**

If the check box is checked, the associated signal will be changed to this
value.

1.  **ValueUnchecked**

If the check box is unchecked, the associated signal will be changed to this
value.

Track Bar

Track bar represents a general-purpose value changer for use in applications
where tracking is required.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e5913b4a1b7f96fbda6db41cb73735a7.png)

Fig 176 Track Bar

A track bar also displays its associated signal value in real-time within its
supported range. If its signal has a value that is out of the track bar’s max
range, then the track bar will display this signal value at its maximum range.

A track bar has 2 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f90e7dbfd83fe1238d05590602c334db.png)

Fig 177 Track bar additional properties

The min and max properties specifies its associated signal’s physical range.

Scroll Bar

A scroll bar Represents a standard value changer that is used to scroll the
value range of a signal. Its performs completely same as “Track Bar” described
above.

Input Output Box

An input output box is a text box to display or set signal value.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/83b390c76f592551ae9aefa1f79f3e18.png)

Fig 178 Input Output Box

An input output box has 3 additional properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/96bf5e7a78bb928b55768c1c723c9808.png)

Fig 179 Input Output Box additional properties

1.  **Color**

The text color of the text box.

1.  **LabelWidth**

The width of its label in pixels.

1.  **Value**

The signal’s real-time value can be displayed or set here.

Note: The display of signal value supports symbol display. But setting value
does not, because it is not easy sometimes for human to write complete symbol
value for a signal without mistake, use physical value instead. Or if you want
to set symbol value, please use “Value Selector”.

Image Button

Image button displays a series of images depending on the real-time value of its
associated signal. For example of the following value mapping:

Table 4 Image Button Value Mapping

| Signal Value | Image                                           |
|--------------|-------------------------------------------------|
| 0            | ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5a184aae4b69e09e6192ee59ffda8bd5.png) |
| 1            | ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/724321eac13dff7f4883e059889fcd33.png) |
| 2            | ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8d8f21199b4e57af2df8e93ace0c0d5a.png) |
| 3            | ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6cdad0f6879c4b8f9280e22588ba04c9.png) |

If its associated signal value is within [0, 1, 2, 3], this button will display
the mapped image on the right side of the table. This image button will remain
unchanged if its associated signal’s value is out of scope of the value table
[0, 1, 2, 3].

An image button has 5 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/c1fdd645bbe2e73348d2cf585878559e.png)

Fig 180 Image button additional properties

1.  **Image**

The picture at the current “ImageIndex”, click the “…” button on the right side
of the property to change the current image.

1.  **ImageCount**

The “Value - Image” pair count. Please set this count to a value between
[1..100].

1.  **ImageIndex**

The current editing image index from 0 to “ImageCount” - 1. If you want to set
the first image, set this value to 0 and then modify “Image” property; If you
want to set the last image (for example image count is 5 in total), set this
value to 4 and then modify the “Image” property.

1.  **Value**

The physical value of the current image index in “Value - Image” pair.

1.  **WrapMode**

Specifies whether and how to resize, replicate, and position the bitmap image
for rendering the TImage surface.

The WrapMode property should be one of the constants defined in the
TImageWrapMode type:

**Original** displays the image with its original dimensions.

**Fit** provides the best fit, keeping image proportions (the ratio between the
width and height) for the TImage rectangle. If needed, the image is scaled down
or stretched to best fit the rectangle area. This is the default option.

**Stretch** stretches the image to fill the entire rectangle of the TImage
component.

**Tile** tiles the TImage image to cover the entire rectangle of the TImage
component.

**Center** centers the image to the rectangle of the TImage component. The image
is never resized, regardless the size of the rectangle of the TImage component.

**Place** fits the image into the TImage rectangle. If the width or height of
the image is greater than the corresponding dimension of the TImage rectangle,
then the image is scaled down keeping image proportions (the ratio between the
width and height) to fit in the TImage rectangle. The obtained image is centered
in the TImage rectangle. Place only makes images smaller, never larger.

Selector

A selector is a “Text – Value” list, which represents a combo box, which is a
button with a list box attached to it.

Click the button to display the list. You can select an item from the list and
it will appear as the button's text. You can type text directly into the combo
box button. For example, if you select “Gear_2=2” in the list below, you will
see the signal value associated to this selector changed to 2, You can also set
“2” directly in the text area to force change the signal’s physical value to 2:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/59b46684cc99c752d4a63568515e3343.png)

Fig 181 Selector

A selector has additional 3 properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7b842232651c7529f4d69456950fbd9c.png)

Fig 182 Selector

1.  **Color**

The text color of the selector.

1.  **Value Table**

Value Table is a list of “Name - Value” pairs. By clicking on the “…” button,
you can edit the pairs:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9c646beda20db1ad02b6e99cbc24e304.png)

Fig 183 Value Table editor

Please be sure to follow the rules “Name=Value” while editing the value table.

1.  **VarName**

The display name on the left side of the selector, which is automatically set by
the signal selector when this control is associated with a signal, you can also
modify this display name, too.

Button

A button is a push button setting its associated signal when its state is
“Pushed”, and never revert value when its state is “Unpushed”. It has only one
trigger value:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a2bb6ee7aff2ff96912b7abcc02061ab.png)

Fig 184 Button

Please refer to “Path Button” with “Push Button” mode for details.

Progress Bar

A progress bar represents an animated progress indicator for general progress
indication. It is a display only control for signal physical value or system
variable value monitoring.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1e62968f1ac27a0cad1fce00eac27e65.png)

Fig 185 Progress Bar

A progress bar has 2 additional properties:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0e8419b5667264d9799a3aa48782b78a.png)

Fig 186 Progress Bar additional properties

Min and Max specifiy the signal value range to display. In the above picture,
the Min value is 0 and Max value is 10000. If the signal’s actual value is
15000, the progress bar will remain display 100% value range.

Radio Button

RadioButton, also called option button, presents a set of mutually exclusive
choices. You can create individual radio buttons or use a group to automatically
arrange radio buttons into groups. You can group radio buttons to let the user
select one from a limited set of choices.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/96c5552fe513c8b2ce66d34bfd0c8cff.png)

Fig 187 Radio Button

Radio button also displays the signal real-time value if the value matches its
“ON state value”.

A radio button has 3 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/92209522753d8883bed69f1c25539b63.png)

Fig 188 Radio Button additional properties

1.  **Color**

The text color of radio button.

1.  **GroupName**

Specifies the name of the group this radio button is part of.

Set the GroupName property to the name of the group this radio button belongs
to. If multiple radio buttons are part of the same group, that is, all of them
have the same GroupName, when you click one of them, it becomes selected, while
the others in this group become cleared.

1.  **SwitchValue**

The SwitchValue will be written to the associated signal if the current radio
button is checked. Besides, if the associated signal has been changed
externally, this radio button will also show a “checked” state.

Start Stop Button

Start stop button controls whether the current application should be connected
or disconnected. There are no additional properties assigned with start stop
button.

In editor mode, you can select this button and modify its common properties, as
shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4b7123e35e1a95048f5e673fc65dfecd.png)

Fig 189 Start Stop button in editor mode

If you switch the panel into test mode while the application is disconnected,
you can see the selection border of this button disappears, that means you can
click this button to bring the application into connected state.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/658cad65dfbb68a2fe5cadbcbde34086.png)

Fig 190 Start Stop button in test mode

And after this button is clicked in test mode, you can see the application is
connected, and this button switches to a “stop button” indicating that if you
click this button again, the application will be disconnected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f5edb1b330c486769c3f6a2dbc9b664f.png)

Fig 191 Start Stop button in application connected state

Switch

Switch represents a two-way on-off switch for use in applications.

Use a Switch whenever you need to provide the user with a two-way on-off switch.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cf3d160e8c9c0279cbe9341513ab73b3.png)

Fig 192 Switch

A switch also displays its associated signal’s real-time value if the value
matches its “ValueLeft” or “ValueRight” properties.

A switch has 2 additional properties as shown below.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a6a79ddb499963c1dd216adf7ae2e862.png)

Fig 193 Switch additional properties

1.  **ValueLeft**

This value will be written to its associated signal if you switch this control
from right to left.

1.  **ValueRight**

This value will be written to its associated signal if you switch this control
from left to right.

LED

LED is a display only control to show Boolean value of a signal.

A led has 13 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/233f3c481eed5d009c7b3bfac375a488.png)

Fig 194 LED additional properties

1.  **ColorOFF**

The LED’s fill color will be changed to this value if its associated signal’s
value is lower or equal than “ValueOFF”.

1.  **ColorON**

The LED’s fill color will be changed to this value if its associated signal’s
value is larger or equal than “ValueON”.

1.  **ColorStroke**

The stroke color of the LED shape.

1.  **LEDType**

LED shape type, can be: Circle, Ellipse, Horizontal Line, Vertical Line,
Rectangle, Round Rectangle, Pie

1.  **StrokeActive**

This property will control whether stroke related properties is activated.

1.  **StrokeDash**

Specifies the dash-dot style of lines or of contours.

A shape contour or a line can contain several segments (dash-dot groups) with
different lengths and spaces between segments.

The possible values of Dash are Solid, Dash, Dot, DashDot, DashDotDot, and
Custom defined in the TStrokeDash type.

The default is Solid--a single solid line.

1.  **StrokeThickness**

Specifies the width, in pixels, of the stroke outline to draw a line or a
contour.

1.  **Text**

The display text on top of this LED.

1.  **TextActive**

This property controls the visibility of the display text.

1.  **TextColor**

The color of the display text.

1.  **TextHeight**

The height of the display text in pixels.

1.  **ValueOFF**

The LED’s color will be switched to “ColorOFF” if its associated signal’s value
has been changed to this value.

1.  **ValueON**

The LED’s color will be switched to “ColorON” if its associated signal’s value
hass been changed to this value.

Page Control

Page Control Properties

Page control is a tab set that has the appearance of notebook dividers.

A page control has 3 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/38367f063fb62906e510fc7f685c6384.png)

Fig 195 Page Control

1.  **PageCount**

Specifies how many pages this page control holds. You must set a value between 1
and 100.

1.  **PageIndex**

This property will show the current page index starting from 0. If you want to
edit the name of page 3, you must set “PageIndex” to 2 and then modify the
“PageName” property.

1.  **PageName**

The name of the current page. If you want to modify the name of another page say
the last page (5 pages in total), you must first set “PageIndex” to 2 and then
modify this property.

Delete a page in Page Control

Steps to delete a page in page control:

1.  Firstly, navigate to the page to be deleted, and delete all the controls in
    this page

2.  Move the page to be deleted to the last page by setting “SetIndex” of the
    current page to the last index, if the count is 9, then the last index is 8

3.  Decrement page count by 1

Gauge

Gauge displays a meter interface for monitoring signals or system variables. It
is a display only control.

A gauge has 8 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bdfe96a6c67a1c43e7ef2e58bb4f44c4.png)

Fig 196 Gauge additional properties

1.  **AngleSpan**

The display area of this gauge from 0 \~ 360 degree:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e038cbacbc2a7e909905bd1d2e34e868.png)

Fig 197 Gauges with different angle spans

1.  **Color**

The text color of this gauge is controlled by this property.

1.  **IsCircle**

If this property is true, the gauge will be a circle, otherwise an ellipse.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e1a4942f21c0a0b9129e2b3e5f7841dd.png)

Fig 198 Gauges with IsCircle set to true and false

1.  **MaxValue**

The maximum physical value of its associated signal.

1.  **MinValue**

The minimum physical value of its associated signal.

1.  **ShowBackground**

This property controls if a gauge’s background color is visible.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1c808744334e017efce1f3f1c548443d.png)

Fig 199 Gauge with/without background

1.  **ShowValueMark**

This property controls if a gauge’s value mark is visible.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/75c5891f4ea3c5adc712108ca7acb5ee.png)

Fig 200 Gauge with/without value mark

1.  **Text**

The display text on top of the gauge.

Graphics

Graphics is a curve container for multiple signals physical value display. You
can add up to 100 signals into one graphics control. Graphics is a display only
control.

A graphics control has 4 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8e7e7bb662aa685cbe539f099f99999c.png)

Fig 201 Graphics additional properties

1.  **EditSignalIndex**

This property determines which signal is currently being edited. If you want to
modify the second signal’s display name and database address, you should first
set this property to 1 and then modify “VarLink” and “EditSignalName”
properties.

1.  **EditSignalName**

Editing this property will update signal display name in “Lengend” area on the
right side of the graphics control.

1.  **MaxPoints**

The maximum data points of each signal displayed in graphics control. The
default point count is 1000.

1.  **SignalCount**

This property specifies the signal count inside this graphics control. If you
want to add 5 signals into this control to display them, first set this property
to 5, and then set “EditSignalIndex” from 0 to 4, during this process you can
modify each signal’s property.

Pie

Pie control displays relationship of multiple signals. It is a display only
control.

A pie control has 2 additional properties as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/af08115ffb7ed52675d1d80b42a7c902.png)

Fig 202 Pie additional properties

1.  **EditSignalIndex**

This property determines which signal is currently being edited. If you want to
modify the second signal’s database address, you should first set this property
to 1 and then modify “VarLink” properties.

1.  **SignalCount**

This property specifies the signal count inside this pie control. If you want to
add 5 signals into this control to display them, first set this property to 5,
and then set “EditSignalIndex” from 0 to 4, during this process you can modify
each signal’s property.

1.  Panel Design Recommendations

Using Shortcuts

You can find shortcuts description in “Information” page of each Panel form.

Note: You must first select one or more panel controls and then press shortcuts,
so that these shortcuts may affect the controls you selected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4b316c14214ad14ec4c952378c11a5a4.png)

Fig 203 Panel shortcuts

Remaining Bus Simulation

If any panel signal is associated with CAN or LIN signal, the CAN RBS or LIN RBS
is forced to be started if it is not configured to be automatically run when
application is started. This is because panel bus signals rely on “Remaining Bus
Simulation” functionality.

1.  Test System

TSMaster test system provides a complete solution for general purpose test
automation requirements, which covers every aspect of automated tests.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b0fbd1927c6e5e4de2a917701ce4d8ee.png)

Fig 204 TSMaster Test System

Please refer to TSMaster example “CAN Test Demo.T7z” to see the ability of Test
System:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea516c798ee53aa6d9ee5f11c8846acc.png)

Fig 205 CAN Test Demo Example

1.  Test System Toolbar

Test system toolbar provides one-key start feature of all test cases and report
generation, which greatly improves test efficiency.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a94f55a07eb92df34c0deca83fabb5fd.png)

Fig 206 Test System Toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8ce0984a524d73cf3d561225f337e55f.png) Start all test cases required
based on the test system configuration.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/05e1a22c8956c3a5b0c6635694c245ea.png) Stop the test system.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5009d3e0415af69d24fd3e5c84e6563e.png) Start auto generation of test
report.

1.  Test System Overview

Test system overview displays the test system name, icon and descriptions of the
current test system. You can create or open one test system at a time.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e72ba69fd67d63d93a8f5c0ae0067de9.png)

Fig 207 Test system overview

1.  Test System Login

You must first login into the test system before any operation in the test
system. The system will grant you abilities based on your current privileges.
Note: the default user name and password for a new test system are all “admin”,
please type in the user name and password correctly in order to login. You can
also tick “Remember” so that you do not need to type user name and password
again the next time you use test system.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8dfc57331eb9be1ab5c6293628236285.png)

Fig 208 Test System Login

After successful login, you can see “System user management” under “System
Login” panel if your privilege is “Developer”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ffb2a9f2e47479c1d8dc1d958aca673a.png)

Fig 209 System User Management

There are 3 user privileges as described below:

-   User: Can only perform tests, user cannot edit test cases.

-   Administrator: Can edit the whole test system except user list.

-   Developer: Can edit every aspect of test system.

There are 5 buttons on bottom of the user management panel:

-   **Add Button**: To add new user into the test system.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6584fb626d09e48f8d6cb8255c9ef073.png)

Fig 210 Add new user

-   **Delete Button**: To delete the selected user from the list. Note: If you
    delete all users from the list, you may not be able to login to the system
    next time. Please contact TOSUN if you are in this situation.

-   **Edit User Button**: To open the edit user dialog box, the user name,
    password and user privilege can be modified.

-   **Save Button**: Save the current list after modification.

-   **Close Button**: Close the current panel after modification.

    1.  System Configuration

You can configure the test system, import or export the whole test system with
its test cases and parameters from an external config file.

Note: users with “User” privilege are not able to edit the system configuration.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/46e7b3bfb4888e248750230b95dad51e.png)

Fig 211 System Configuration

-   **Test System Name**: the name of the current test system, which will appear
    in the test report.

-   **Test System Description**: Enter the description of the current test
    system.

-   **Test System Icon**: You can change the icon of the test system. All major
    image file types are supported.

-   **Import Test System**: You can load the test system from an externl file.

-   **Export Test System**: You can export the whole test system to an external
    file.

-   **Create New Test System**: This will delete everything in the current test
    system and create an empty one for you to configure.

-   **Test System Directory**: You can open the test system directory.

    1.  DUT Configuration

You can create, edit or delete DUTs (Device Under Test) in the test system,
assign photos to DUT, assign part number if DUT is a device in EOL test, add any
information to the DUT which will be represented in test reports.

Note: users with “User” privilege can only modify “Part Number” in the DUT
configuration.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b9bfb78da6eaf4793d15a26d403febbd.png)

Fig 212 DUT Configuration

-   **DUT Selector**

You can select the DUT you want to test in the list.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/60379f802ebecb9f173a382307514ae8.png)

Fig 213 DUT selector

If you want to add new DUT into the list, please click the add button
![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2c2596738933b465f5e2d9264196ec58.png) and assign a name to the new
DUT.

If you want to delete the current DUT from the list, please click the delete
button ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5abbb3b39eca141a3471a0ac5bfeba74.png) so that the current DUT
information will be removed.

If you want to clear all DUTs from the list, please click the delete all button
![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1b030599ded75b6059604be9d7dee4c2.png).

-   **Part Number**

You can assign a part number to the current DUT, this result in the auto
generated test result folder has a name suffix for you to identify, such as:

*\\TestResults\\CAN_Test_System_Demo\\TC1005_PN54321*

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5de5e40940040ceab6c4365e55a7e3c2.png)

Fig 214 DUT part number

Information List

You can add, delete, insert information into the information list. Press “Down”
key on the bottom line of the list to add a new item.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6434e9df4d8e7af7b5918ceaf9ddadbb.png)

Fig 215 Append a new item into the list

Or you can press “Insert” key on one of the line in the list to insert a new
item before the selected line.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7c77c0151d8c19687acbd7f0a3fec60f.png)

Fig 216 Insert a new item

Or you can delete everything in a line to delete this information line.

1.  Test Parameters

You can perform parameterised test in the test system by adding global
parameters or DUT specific parameters in the “Test Parameters” list:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7412f82a8636b88830c6c9e733da73a8.png)

Fig 217 Test Parameters

A parameter supports the following data types:

-   u8: unsigned char, 8 bits

-   s8: signed char, 8 bits

-   u16: unsigned word, 16 bits

-   s16: signed word, 16 bits

-   u32: unsigned integer, 32 bits

-   s32: signed integer, 32 bits

-   u64: unsigned long integer, 64 bits

-   s64: signed long integer, 64 bits

-   float: IEEE float, 32 bits

-   double: IEEE float, 64 bits

-   string: char array with terminator char “\\0”

-   TCAN: CAN data structure defined in mini program in “TSMaster.h”

-   TCANFD: CAN FD data structure defined in mini program in “TSMaster.h”

-   TLIN: LIN data structure defined in mini program in “TSMaster.h”

Please fill “Name”, “Value” and “Description” value after a new parameter is
defined, as they may appear in the generated test code. The “Name” should
strictly follow any C identifier’s rule.

After you open any of the test cases in test system, you can find the parameters
you previously defined in the “Test Header”. For example, if you define a couple
of test parameters in “Global Parameters”, all these parameters are visible and
are the same in all DUTs:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/322cab723ff80b1836bee4c8d30e8e50.png)

Fig 218 Auto generated parameter definitions

And you can also find the constant values of the parameters after the record
definition:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/134f2fc37cd14626dfc12b98e94d983d.png)

Fig 219 Auto generated parameter value

And If you specify a parameter in “DUT Parameters”, you can configure different
values of such parameter in different DUT by switching “DUT Configuration”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/3e7c3282458ac365c712d8645d0332b5.png)

Fig 220 Parameter in DUT TC1001

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5e91be5045fa4b528dbf293f63ec5fde.png)

Fig 221 Parameter in DUT TC1005

After you re-open the test case in test system, you can find all the DUT
specific parameters are defined with different value specified:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/cf7c7851265fb7dbca686648cbb526a0.png)

Fig 222 DUT specific parameters definition

If you want to access “DUT global parameters” in mini program, just use the
struct pointer “pGlobalParameters”

If you want to access “DUT specific parameters” in mini program, just use the
struct pointer “pDUTParameters”

You can export the definitions of parameters into an external csv file:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/81eda4d9fd578f5d8db818b2839efdef.png)

Fig 223 Exported parameters in csv file

1.  Test Cases

Test Cases Interface

Test cases are listed in this interface, which also shows last results of each
test case execution. “OK” results are marked green color and “NOK” results are
marked red color.

You can add, edit, delete unlimited number of test cases in the “Test Cases”
page:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e2e76faa68aba6fcb0317357b5dca760.png)

Fig 224 Test Cases

You can do any operation in the popup menu by right clicking on the test case
list area.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/99f3bed319298a2f1d07b6d4411168e2.png)

Fig 225 Test case popup menu

1.  Select Test Cases

Select test cases popup menu item has a sub menu as shown below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/186da1dfbe2495bd3cc4e6d89031f85b.png)

Fig 226 Select Test Cases sub menu

-   **Check Selected**: Check all selected test cases that can be batched run in
    the test execution.

-   **Uncheck Selected**: Uncheck all selected test cases that will not be run
    in the test execution.

-   **Invert Selection**: Invert the checked states of test cases so that the
    previously checked test cases will not be executed but previously unchecked
    test cases will be executed.

-   **Check All**: Check all test cases that can be batched run in the test
    execution.

-   **Uncheck All**: Uncheck all test cases so that no test cases can be
    performed. If there are many test cases, you can uncheck all and then check
    the items you want to execute in some cases.

-   **Check NOK Test Cases**: Check the test cases that are marked as “NOK”,
    this is useful for you to perform tests on failed items.

1.  Add a new test group

You can add an empty test group in the list, which may contain other test groups
and test cases.

1.  Add a new test case

You can add a new test case under any test group, but you cannot add it directly
under another test case.

1.  Add test group list…

You can add a list of test groups with just one command:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6fef9cecadb5b7bbdd166e5e9d7ec9d4.png)

Fig 227 Add a list of test groups

Then you can add test cases into these newly added test groups:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8297a31fdbfb13dcb44a02bf332513da.png)

Fig 228 Added test groups

1.  Add test case list…

You can add a list of test cases in the selected test group, or directly on the
root:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2a0974c5a405c960d90610cc9600735c.png)

Fig 229 Add a list of test cases

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/aa45f9176f1a67d6606046d5431bfc4a.png)

Fig 230 Test cases added under the selected group

1.  Delete Selected

Delete the selected test cases

1.  Delete all test cases

Delete all the test cases in the list

1.  Edit test case…

Open C code editor to edit the logic of the current selected test case

1.  Run Selected Only

Run only the selected test case, this is useful if you do not want to execute
other test cases.

1.  Import test cases…

Import test cases from external configuration file.

1.  Export test cases…

Export the current test case list to an external configuration file, which can
be loaded by test system from another TSMaster.

1.  Clear Verdicts

To clear the test result verdicts:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e0ee8572e65875452932fa4c7941ddb9.png)

Fig 231 Before verdicts are cleared

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ef807bb347d00f05cbb523c5ebd99cbd.png)

Fig 232 After verdicts are cleared

1.  Reset sort order

To reset the ordering of test cases to initial state.

1.  Compile Selected

Compile the selected test cases. TSMaster mini programs (\*.mp) files are
generated, one test case one mp file. The test system will run on compiled mp
files.

1.  Compile All

Compile all test cases.

Ordering of test cases

You can use mouse to drag drop test cases or test groups to perform any ordering
requirements.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/68f1c479bacc08f317694b32b3fe3ee3.png)

Fig 233 Before drop: drag an item "2.2" before "2.1"

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/5c15bfb0bbc7842e0fda9045203d1a6e.png)

Fig 234 After drop: drag an item "2.2" before "2.1"

You can also drag a test case from one group and drop it in another group to
append it at last.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/08a2dd2f479457be67ec65785c954eb3.png)

Fig 235 Drag a test case to another group: before append

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8ba3c88b7a1c434f8ecf8ab7f39d768f.png)

Fig 236 Drag a test case to another group: after append

If you want to move a group or a test case to the end, please move up the end
node:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/791351a0c3145314b95dbb68dc834ba7.png)

Fig 237 To move "Frame Transmission" to end, you should move “Bus Load” upwards

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/be29e3194c8df8d541c2e169825c7659.png)

Fig 238 After releasing mouse cursor, the "Frame Transmission" is at the bottom

Test Case List Column

The descriptions of each test case column is as follows:

Table 5 Test Case List Columns

| Column Name     | Description                                                                                                                                                                |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Test Case Name  | You can edit the test group name or test case name here, which will become the name of its associated mini program.                                                        |
| Identifier      | Unique identifier of test group or test case, which is named automatically by the ordering of the test cases. Note: this value is read only.                               |
| Select          | Tick the checkbox to select the test case or group, which will be executed in the test run.                                                                                |
| Type            | Can be “Test Group” or “Test Case”. “Test Case” can be executed but can not contain other test cases or groups.  “Test Group” is container only, which cannot be executed. |
| Execution Count | You can specify how many times this test case is executed, the default count is 1.                                                                                         |
| Description     | You can write comments of any test case or test group here.                                                                                                                |

Test Case Code in Mini Program

Test case is implemented in mini program, besides all available features of mini
program engine, it can use additional “Test” features as described below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a7d5826319f2093783de2831b1247c1d.png)

Fig 239 Test case additional features

Test functions can be called within any test case to make verdicts or write test
related outputs.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8708e9ac6cdfad34e6c7cd1c89e1b1b1.png)

Fig 240 Test functions are available to test cases

Parameters can also be inserted easily into you test case:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f24f3671ba69888f84962a25479d1ba2.png)

Fig 241 Test parameters can be inserted easily

1.  Report Configuration

You can configure how to generate your own test report in this section:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fedac39e6d49487fe11f8d275fda0fb6.png)

Fig 242 Report Configuration

Table 6 Report Configuration Description

| Item Name                              | Description                                                                                                                                                                                                                                |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Enable Test Log                        | Test reports are generated based on test logs, you must first enable test log in order to generate reports.                                                                                                                                |
| Test Log Files Location                | You can specify a location to save test logs. ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e5ad16c78a842110982cd0be98d6d4bf.png)Use the left pointer button to specify a new location for the test reports, and use the right folder button to open the folder you specified. |
| Report File Type                       | Can be “pdf”, “word” and “excel” ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d8ae66c9609a5eb428d6b9b14f471513.png)                                                                                                                                                           |
| Report Template File                   | You can specify a location for the report template file, which is used for the generation of each test report.                                                                                                                             |
| Report Path                            | You can specify the path storing the final test report. TSMaster report automation engine will automatically store the test report under this directory.                                                                                   |
| Report File Name                       | You can specify the file name of your final report here.                                                                                                                                                                                   |
| Auto start generation on completion    | Tick this check box to allow automatic report generation after all test executions are completed.                                                                                                                                          |
| Auto show generation progress          | Tick this check box to allow automation Interfaces (Word or Excel) display their working progress on your desktop.                                                                                                                         |
| Auto open report path after generation | Tick this check box to automatically open the report directory after the test report is generated.                                                                                                                                         |
| Auto open report after generation      | Tick this check box to automatically open the report after its has been generated.                                                                                                                                                         |

You have to configure this setting before you use the “Report Automation”.

1.  Test Execution

The test execution page provides a real-time monitor for each test case being
executed. The passed test cases will be marked green color and the failed test
cases will be marked red color. During the execution of one test case, the
real-time log information will be displayed and updated in “Information” column.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/69ac92ed3b71614d8dea1556729f15de.png)

Fig 243 Test Execution

1.  Test Logs

Test logs displays the log information output from mini program using the “test”
APIs and the following log APIs:

-   test_log

-   test_log_ok

-   test_log_nok

-   test_logCAN

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/895a2a2391658d4520a80db1996783aa.png)

Fig 244 Test Logs

1.  Mini Program Library

    1.  Mini Program Library Concept

Mini program library helps you to manage reuseable executable packages in your
TSMaster mini program environment. A mini program will become a library when it
is loaded by the “Mini Program Library”, it will stay in background providing
the following features:

-   All step functions, message callbacks or key events of this mini program can
    be executed in background for automation:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7098943f33e0aa3ead4b1f31b4464872.png)

Fig 245 Mini program library running in background

-   Custom functions of this mini program can be used by other mini programs as
    their function library providers:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8164659c091830c9fb579cd147ca5c3b.png)

Fig 246 Mini program library as function providers for other mini programs

With the help of mini program library, modular design of test automation or
simulation logics can be realized.

1.  Mini Program Library User Interface

Mini program library user interface is described below:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb361177191cd9f282cbd51e7abd3aa3.png)

Fig 247 Mini program library user interface

Table 7 Mini program library user interface description

| Index | Element               | Description                                                                                                                                                                  |
|-------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Load                  | To load a mini program (\*.mp) or (\*.dll) in the library                                                                                                                    |
| 2     | Unload Selected       | Unload the selected mini program library from the list                                                                                                                       |
| 3     | Unload All            | Unload all the mini program libraries                                                                                                                                        |
| 4     | Show File             | Open the directory containing the selected mini program                                                                                                                      |
| 5     | Run All               | Run all the mini program in background, after mini program is running, its step function, message callbacks and key events are working as they are executed in C code editor |
| 6     | Stop All              | Stop the execution of all the mini programs                                                                                                                                  |
| 7     | Library file area     | This list shows all the loaded mini program with their names, version and running state displayed                                                                            |
| 8     | Library function list | This list shows all the custom functions provided by the selected mini program. These functions can be used in any of your mini program in C code editor                     |

1.  Mini Program Library Popup Menu

When you right click on the library file area, you can see the following popup
menu appears:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8be2cba32b2b5a3aff3598b7737bcf7e.png)

Fig 248 Mini program library popup menu

Besides the same items appear in toolbars, you can run or stop selected mini
programs separately by using “Run Selected” and “Stop Selected” if you do not
want to run or stop all the mini program libraries in the list.

1.  Diagnostics

TODO: coming soon…

1.  Calibration

    1.  Calibration Introduction

1.  Calibration Data Types

Calibration data types are summarized in the following table:

Table 8 Calibration data types

| Icon                                            | Description                            |
|-------------------------------------------------|----------------------------------------|
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/90fd0eb2d60613e9144a4566de290897.png) | Normal measurement variable, read only |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/223f761ffaa7cc2f543041e1e9dd4ae5.png) | Read/Write measurement variable        |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a954d3bd2228d3a3577c35e0ae7dee35.png) | Virtual measurement variable           |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/7dad1023415d46ddb3d2b939b3cb19ed.png) | Array variable                         |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0c23d8eba5e7c1aae21d8e4ba6cad6dd.png) | Characteristic variable                |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8759a0002a87214ad27a309961e104dc.png) | Curve variable                         |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f1b024606544b288226e93eb9cead4f5.png) | Map variable                           |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1ec84204a6058077f650dddd1ea70010.png) | ASCII variable                         |
| ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6336a886f3ddc519d4f573b4b9969ca8.png) | Axis points                            |

1.  System Variable Manager

    1.  System Variable Manager Introduction

All system variables (user defined or internal variables) are listed in “System
Variable Manager”, you can use this manager to view, edit, or select specific
system variables in measurement windows.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/21ff211deae4f26ecef2156c27fe9e62.png)

Fig 249 System Variable Manager

Please refer to TSMaster example “System Variables In Mini Program.T7z” and
“System Variables Plot.T7z”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4c4eb84790c1d31c9845e48eed9d99d5.png)

Fig 250 System Variables Management

1.  Toolbar of System Variable Manager

The items in system variable manager toolbar are listed below:

Note: all these toolbar buttons operate only on user variables, and internal
variables are not affected.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b4ee99c8026745eacc194829bf67b46a.png) Create a new system variable in
user list. This will create a auto-renamed system variable and popup an system
variable editor for you to edit its properties.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4a937ba7cf38412ccfbe742307a14268.png)

Fig 251 System variable editor

The items in the system variable editor are described below:

Table 9 System variable editor description

| Item          | Description                                                                                                                                                                                                                                                                                 |
|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Name          | The name of the system variable under its category as described below.                                                                                                                                                                                                                      |
| Category      | The category of the system variable. Together with the name forms the complete name of the system variable. For example: *Name = name1* *Category = cat1* The complete name of this system variable is “cat1.name1”, and this complete name must be unique in all the system variable list. |
| Comment       | You can write comments for the current system variable.                                                                                                                                                                                                                                     |
| Data Type     | All the supported data types are listed below, you can pick one of them in the combo box: Int32 UInt32 Int64 UInt64 UInt8 Array Int32 Array Int64 Array Double Double Array String                                                                                                          |
| Read Only     | Whether this variable is read only                                                                                                                                                                                                                                                          |
| Minimum Value | The minimum value of this variable if it is not array type                                                                                                                                                                                                                                  |
| Maximum Value | The maximum value of this variable if it is not array type                                                                                                                                                                                                                                  |
| Current Value | The current value of this variable in text You can modify the system variable value here by directly typing the value representation                                                                                                                                                        |

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9df9cbf63b17b56b236c15d2c5936371.png) Cut, Copy and Paste buttons. You
can select on or multiple system variables and use these buttons to cut, copy or
paste variables freely. Note: if the complete name of the pasted variable is the
same with existing one, it will be automatically renamed to keep name
uniqueness.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9cf63f39a24496f5671e4c0de6774685.png) Import and Export buttons. You
can import system variable list from external files, or export them to external
files, which can be loaded by another TSMaster application.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b98889a6ba3048e67eac0d8b353ffd07.png) Delete and Delete All buttons.
Use these buttons to delete selected system variables, or to delete all of them.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/1561847a68bb13d514aab60f46c8ec34.png) Filter of all the system
variables by any field: variable name, type, value, owner and comment.

While typing, the user list and internal list will be filtered to display
variables that only contain the typed string in any field.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/57e199dddf754968bd036ff6118ccc9f.png)

Fig 252 Filtering of System Variables

1.  Popup Menu of System Variables

If you right click on the user list, you can see the following popup menu
appears:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/770d930c31b0d01eba12ce0635d5885e.png)

Fig 253 System Variables popup menu

1.  Cut: Cut the selected user variables into clipboard

2.  Copy: Copy the selected user variables into clipboard

3.  Paste: Paste the selected user variables from clipboard in the user list

4.  Create User Variable: Create a new user variable in the user list

5.  Delete Selected: Delete the selected user variables from the user list

6.  Clear All: Delete all the user variables

    1.  Working with System Variables

Please always use the complete name to identify any system variable. For
example, if a system variable name is “Var1”, with its category named “Cat1”,
please use “Cat1.Var1” to globally identify this system variable, since this
complete name is unique in TSMaster.

1.  Measurement Setup

Measurement Setup displays the data flow from data source to each measurement
window. Apart from “Data Source”, each measurement window represents a node in
the measurement setup. You can use drag and drop feature of this treeview to
parameterize the measurement filter for data reduction.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/21cb1909746f923e6500ff71f491ce14.png)

Fig 254 Measurement Setup

Please refer to TSMaster example “Measurement Setup.T7z” to see how to arrange
multiple layouts and windows:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bafaddd5db282ad26a3c9179bbb7fc06.png)

Fig 255 Measurement Setup Example

1.  Mesurement Setup Toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/834cd9007d1064aa75878bb7035449ba.png) Auto zoom of the measurement
treeview chart, if checked, the treeview will be fitted into the current display
area:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/748237335ad7bb7f1099a29faae7846f.png)

Fig 256 Zoom to fit of Measurement Setup

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9eeb7f4ab78f2667f34c8042c6ab08ae.png) If this button is unchecked, the
treeview items will be displayed with their original size, and you can drag the
horizontal or vertical scroll bars to view the whole treeview:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/76bcdb0bc48445f5ac0eb44b36199685.png)

Fig 257 Measurement Setup without zoom support

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e79210f1fc412ae4c0f013f3136c673c.png) Expand all or Collapse all
buttons. Use these buttons to expand all the nodes of the measurement setup
treeview, or to collapse all of them.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/0d3a57acfa5bc81945c30298c4c35745.png) Reinitialize the struct button.
Click this button to discard the current data reduction structure you just built
and will result in the following plain display of treeview items:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/10906918cb8762042666beeed8c698df.png)

Fig 258 Measurement Setup Structure re-initialized

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ca37e69bc87ba6b3b493120aeb09bdb0.png) Delete the selected window or
delete all the measurement windows from memory.

1.  Measurement Setup Popup Menu

If you right click on each of the node in the measurement setup treeview, you
can see the following popup menu appears:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b0c722dc9f50f36938e47582dc468e1c.png)

Fig 259 Measurement Setup Popup Menu

1.  Open Selected: Show the selected window

2.  Add Measurement Node: To add a measurement node from the sub-menu list as a
    child node after the selected node:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4938241259b4aa7d93a6b41461c7aa7c.png)

Fig 260 Add a measurement window as a child

1.  Insert Measurement Node: To add a measurement node from the sub-menu list as
    a filter node in front of the selected node

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2197233c2723326ac714094c1c172dcd.png)

Fig 261 Insert a measurement window before the selected node

1.  Insert Filter

To insert a filter window before the selected node, the filter can be configured
to filter the nodes after itself.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b78b787e9c18933511b113c60fa0771b.png)

Fig 262 Insert a fitler for the selected measurement node

1.  Rename

You can rename any measurement window so as to identify it easily in the future.

1.  Delete Selected

The selected node with its associated measurement window will be removed from
memory.

1.  Sub-Menu for Measurement Window

You can pick an item to add or insert it into the measurement setup.

1.  Working with Measurement Setup

Measurement Setup Node State

There are 4 states of a measurement setup node:

1.  Deleted State

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/4324ab273644272672f7481af9a65b55.png)

Fig 263 Measurement Window Deleted State

This means this window is removed from memory, the data flow is cut off and will
not be transfered to its sub nodes. You can simply double click this delete node
to create it and show it again.

1.  Feed Through State

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/429a827c341f64ed26f03aa72907d7c8.png)

Fig 264 Measurement Window Feed Through State

This state means the associated measurement window does not have any configured
filter for its sub nodes. The data flows into this node and will directly flows
out from this node without any filter and goes to its sub nodes.

1.  Filter Applied State

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb895c79cfb80c2eb0f336f5d3aa82fc.png)

Fig 265 Measurement Filter Applied State

This state means the associated measurement window has internal filter for the
current window and also for the sub windows after it. For example, the following
transmit window has three transmit messages:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bdf49221e0b3be206a73c07c135eb897.png)

Fig 266 Transmit window with 3 messages in the list

The measurement windows after this transmit window are automatically filtered to
allow only three identifiers 0x64, 0x111 and 0x110 to be flowed into them.

1.  Filter Blocked State

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/28b97968bb68cdf2816a1e1e0dbdb14b.png)

Fig 267 Measurement Window Filter Blocked State

This state means the current measurement window has built in filter, but the
filter configuration does not allow any data pass it. In this case all the sub
nodes after it will all be blocked and cannot receive any messages.

1.  Selected State

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e3cc3e6adf9fc7df4e8201a8c9bc818a.png)

Fig 268 Measurement Window Selected State

This state means this measurement node is currently selected by user, you can
remove it from memory, or to rename it, or to drag it to other measurement node
as a child node.

Measurement Windows Filter Capabilities

The capabilities of each measurement window is listed below:

Table 10 Measurement Window Filter Capabilities

| Measurement Window        | Filter Capability                                                         |
|---------------------------|---------------------------------------------------------------------------|
| Measurement Setup         | Feed Through                                                              |
| Message                   | Feed Through                                                              |
| CAN / CAN FD Trace        | Built-In Filter in Trace                                                  |
| LIN Trace                 | Built-In Filter in Trace                                                  |
| CAN / CAN FD Transmit     | The transmit messages act as filter                                       |
| LIN Transmit              | The messages in schedule table act as filter                              |
| Graphics                  | The added signal’s message act as filter                                  |
| Gauges                    | The added signal’s message act as filter                                  |
| Statistics                | Feed Through                                                              |
| CAN Database              | The messages in the loaded database (Channel specific) act as filter      |
| LIN Database              | The messages in the loaded database (Channel specific) as as filter       |
| Bus Logger                | Feed Through                                                              |
| Bus Replay                | Feed Through                                                              |
| System Variables          | Feed Through                                                              |
| Panel                     | The signals or messages in the panel act as filter                        |
| C Code Editor             | The messages in the receive/transmit/pre-transmit callbacks act as filter |
| CAN RBS Simulation        | The messages in the loaded database (Channel specific) act as filter      |
| LIN RBS Simulation        | The messages in the loaded database (Channel specific) act as filter      |
| Test System               | Feed Through                                                              |
| Diagnostics Manager       | Feed Through                                                              |
| Calibration Manager       | Feed Through                                                              |
| System Information        | Feed Through                                                              |
| Application Host          | Feed Through                                                              |
| Automotive File Converter | Feed Through                                                              |

1.  Measurement Filter

Measurement Filter Window is a universal filter for all kinds of bus signals.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/91c64145e30ff2ebd25434929eda904b.png)

Fig 269 Measurement Filter Window

Please refer to TSMaster example “Measurement Setup.T7z” to see how to use
measurement filter:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/bafaddd5db282ad26a3c9179bbb7fc06.png)

Fig 270 Measurement Setup Example

1.  Measurement Filter Toolbar

Measurement Filter global switch in ON state, which means the current filter is
activated, which is performing filter functions for all the sub measurement
windows:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/dfafc4c9ef9dd815fbcf5a6f5fb9155c.png)

Fig 271 Measurement Filter with activated state

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/25e96e3bad83f68aa09428bd8d731662.png) Measurement Filter global switch
in OFF state, which means the current filter is deactivated, the data will be
feed through this filter, all sub measurement windows will directly get the
data.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6b93e3fd1b0cfe9db75b656c179a0c05.png)

Fig 272 Measurement Filter with deactivated stae

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8588e462c7db7aef7ee064fbd51710f6.png) Pass Filter mode. This means
data matches the items in the filter list will be passed to sub nodes, others
will be blocked:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea6c7cf3aab2c502ab7900b8a0dae119.png)

Fig 273 Measurement filter in pass filter mode

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/71dc7eaff55653f04af7a5cdfbb20ddd.png) Stop Filter mode. This means
data matches the items in the filter list will be blocked, others will be passed
to sub nodes:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a5fefaaf34c9d9bedc870b8639908292.png)

Fig 274 Measurement Filter in stop filter mode

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a0ebefa3a53abeafa1be90281a320a24.png) Add items sub menu, which has
the following 6 menu items:

-   Add Any Frame

    This means any frame will match this filter, in “Filter Pass Mode” every
    frame will be passed by this filter, while in “Filter Stop Mode” every frame
    will be blocked by this filter.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/8a7101e2e621f1a6fcf3fba0cb865fcd.png)

Fig 275 Any Frame filter

-   Add Single Raw ID

    You can modify this filter to allow a specific identifier mathes this
    filter.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/51364d4bfcf1734d1ac882d20e0391b9.png)

Fig 276 Measurement Single Raw ID Filter

-   Add Single Database ID

    You can pick a an identifier from database by clicking on the
    ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/393d8ace6c0aa0fc058146450590e0ac.png) button of the following
    popup window:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/296ef2690fda8bdc6b59269c7ce2459a.png)

Fig 277 Measurement Database Identifier

-   Add Id Range

    You can add “Identifier Range” to filter a range of specific identifiers by
    specifying the start and end identifiers. In the following filter
    configuration, the identifier range is 0x0 to 0x23, if any identifier is
    within this range, it will match this filter:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/6b5cb9fcc849580d0b9757e611def8cb.png)

Fig 278 Measurement Filter of Identifier Range

-   Add Database Node

    You can add “Node” filter to allow a group of transmitting or receiving
    message that are associated with the specific node to be matched.

    The direction of the messages in the node can also be modified as “Tx”, “Rx”
    or “Both Tx and Rx”:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/92cf1321cf303120594fb75a75153bf3.png)

Fig 279 Measurement filter of Node messages

-   Add Error Frame

Error frames can also be matched by adding “Error Frame” filter. This is really
useful in test situations.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2ac9fa109cb801a9a7d2352e217da03b.png)

Fig 280 Error Frame Filter in Measurement Filter

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/d7af56b4c74e90fd8a7d978397a503ba.png) Expand All and Collapse All

You can expand all channels to view details or collapse all of them.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/076ced2260972a74832333cedb2e7bd9.png) Delete selected or Delete All

1.  Measurement Filter Popup Menu

If you right-click on the list of the filter window, you can see the following
popup menu appears:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fb59a2bde2fb5e22b27976c995b0d1b9.png)

Fig 281 Measurement Filter Popup Menu

1.  Add Any Frame: this filter will match any frame on Bus

2.  Add Single Raw ID: this filter will match a single identifier

3.  Add Single CAN Database ID: this filter will match a single identifier in
    CAN database

4.  Add Single LIN Database ID: this filter will match a single identifier in
    LIN database

5.  Add Id Range: this filter will match a range of identifiers specified by
    start and end identifiers

6.  Add CAN Database Node: this filter will match a group of messages
    transmitted or received by the specified CAN node

7.  Add LIN Database Node: this filter will match a group of messages
    transmitted or received by the specified LIN node

8.  Add Error Frame: this filter will match error frames appear on Bus

9.  Enable Selected: the selected filter items will be activated

10. Disable Selected: the selected filter items will be deactivated

11. Enable All: all filter items will be activated

12. Disable All: all filter items will be deactivated

13. Expand All: the treeview items will be expanded

14. Collapse All: the treeview items will be collapsed

15. Delete Selected: the selected filter item will be deleted

16. Delete All: all the filter items will be deleted

    1.  Filter List Operation

Items in the filter list can be dynamically switched to enabled or disabled
state with a single mouse click even if the application is running. The filter
behavior of the items will be affected immediately:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/a9d0ae2297e2cf4f7a70b4e589e354be.png)

Fig 282 Enable or Disable filter items in runtime

1.  Document

Document window can be opened in Project page of main ribbon:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/79240bc37bb6e8091235039b1f89d14c.png)

Fig 283 Document Window

You can write comments, descriptions and tutorials in the document with mixed
text and images. You can create multiple documents in this window. The file
format of the document is “.rtf”.

1.  Document Toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/fd737556d9b4b2d9ddc0aa991a620c88.png) Edit the current document in
external program. If you click this button, a default program for editing “.rtf”
file in your computer will be opened.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2f4b318e679445365e95bd6b4c963f7c.png) Save the current document.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/519e85706738143485a257cc0ee6e367.png) Refresh the current document to
the lastest state. If this document file is modified by external program, use
this button to refresh it.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/69619c914aa435d98d83834c8cb2b67e.png) Open the directory containing
the current document.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2d03a94d0ba59af8812d15d90d7b005d.png) Create a new document in the
tabs.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9d3ec9ed637e40941c085d1027fc27fd.png) Delete the current document in
this window. Note: this operation will not remove the rtf file from the disk.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/f81f5995bee5b4d004562795861d4290.png) Delete all the documents in this
window. Note: this operation will not remove the rtf files from the disk.

1.  Document Area

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ea7f923d86b92b7a0b3c4515de59f5ca.png)

Fig 284 Document Area

The top text box is used to make description of the current project document
window. And the selection in this window will show different documents in tabs.
You can add a tab by clicking ![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/2d03a94d0ba59af8812d15d90d7b005d.png)
button and assign a name to the newly created document file.

1.  Document Popup Menu

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/88c824a19e8711ef4173a7e74563fb20.png)

Fig 285 Document Popup Menu

1.  Cut: Cut the selected text or images to clipboard

2.  Copy: Copy the selected text or images to clipboard.

3.  Paste: Paste clipboard contents to the text box area.

4.  Increase Indent: Increase the ident count of the selected text lines.

5.  Decrease Indent: Decrease the ident count of the selected text lines.

6.  Font: You can assign font styles to the selected text block.

7.  Paragraph: You can change the paragraph properties of the selected text
    blocks.

8.  Bullets and Numbering: You can assign bullets or number prefixes to your
    selected text blocks.

9.  Bookmark: You can add new bookmarks.

10. Hyperlink: You can assign hyperlinks to the text lines you selected.

1.  LIN Remaining Bus Simulation

Similar to CAN Remaining Bus Simulation, please refer to “CAN Remaining Bus
Simulation” chapter.

1.  Automotive File Converter

Automotive File Converter is use to convert automotive database files from one
format to another. This window can be opened in “Tool” page in the main ribbon:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ba7739d640b5cd09176d745ae9b1cb4e.png)

Fig 286 Automotive File Converter

1.  Automotive File Converter Toolbar

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/834cd9007d1064aa75878bb7035449ba.png) Auto zoom of the converter
treeview chart, if checked, the treeview will be fitted into the current display
area.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/9eeb7f4ab78f2667f34c8042c6ab08ae.png) If this button is unchecked, the
treeview items will be displayed with their original size, and you can drag the
horizontal or vertical scroll bars to view the whole treeview.

Auto open the directory containing the destination file. If a new file is
converted, a directory containing this file is opened.

Do not auto open the directory containing the destination file.

1.  Supported input files

The following inputs files are currently selected (continuously growing):

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/11402e076738bf766c032d06f433a464.png)

Fig 287 Supported source file type

You can select one of them from the list, and you will see the treeview
containing the supported output file types on the right will be synchronized to
the file type you selected:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/b992819f9c1b682c1a51b554cd8c7dc4.png)

Fig 288 Select a source file type first

1.  Supported output files

Source file should be assigned before double clicking on the right nodes of
exported file type.

The supported file types are listed below:

Table 11 Automotive File Converter Output Matrix

| Output\\Input | DBC | ARXML | Xlsx | Xls | DBF | YAML | SYM |
|---------------|-----|-------|------|-----|-----|------|-----|
| DBC           |     | ●     | ●    | ●   | ●   | ●    | ●   |
| ARXML         | ●   |       | ●    | ●   | ●   | ●    | ●   |
| Xlsx          | ●   | ●     |      | ●   | ●   | ●    | ●   |
| Xls           | ●   | ●     | ●    |     | ●   | ●    | ●   |
| CSV           | ●   | ●     | ●    | ●   | ●   | ●    | ●   |
| Json          | ●   | ●     | ●    | ●   | ●   | ●    | ●   |
| DBF           | ●   | ●     | ●    | ●   |     | ●    | ●   |
| YAML          | ●   | ●     | ●    | ●   | ●   |      | ●   |
| SYM           | ●   | ●     | ●    | ●   | ●   | ●    |     |
| FIBEX         | ●   | ●     | ●    | ●   | ●   | ●    | ●   |
| C Source      | ●   |       |      |     |     |      |     |

Note: Xlsx and xls file are format specific. If you want to import Xlsx or xls
files, you should make sure the formats are correct. You can get the template by
simply convert any dbc to Xlsx and start working on such file.

1.  Steps to Convert Database Files

-   Select a source file type

    for example, if we want to convert a dbc file to excel, you should first
    select “dbc” format in the left list:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/21ac0eba22ebeae33ae1d9fccef3f16b.png)

Fig 289 Select source file type

-   Select a source file to input by double clicking on the “Source Node”

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/dd26b73d320e0e6f4b10ed86999de622.png)

Fig 290 Load an input file

-   Double click the “xlsx” icon on the right tree, a “Save” dialog will popup
    for you to specify the destination file you want to save.

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/979d4f9467d2a3af3dd6ea1e3fde09bc.png)

Fig 291 Convert to xlsx file

-   Finally, you will get the destination file

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/31907194086a93aa58421caf3396f338.png)

Fig 292 The destination file is generated

1.  Steps to Convert dbc file to C Code

-   Select dbc source and assign a dbc file as the steps above

-   Double click on the “C Source Code” node, then you are asked to save a C
    Source file with the same name of the dbc file

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/781fd1909ef41c3b84e92cb245e5c100.png)

Fig 293 Save C Source File

After C source file is saved, another save dialog is poped up for header file
storage, this is because this conversion generates two files for C code source
and header, you can save it to the same directory:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/76b25aeec33a9e61277781cfc44c72ad.png)

Fig 294 Save C Header File

-   You can find these files in the directory you specified

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/e4ce3bd657a8462100a43a90a97471e4.png)

Fig 295 C Code generated by dbc

1.  Symbol Mapping

1.  Stimulation

1.  Calibration Curve

1.  Video Replay

1.  TSMaster Help Files

    1.  Help Content

TSMaster help content can be accessed in the application button of TSMaster main
interface:

![](https://github.com/TOSUN-Shanghai/TSMaster/blob/main/manual/media/ae358590fc0e984255e875a940b2b228.png)

Fig 296 TSMaster Help Contents
